<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>.</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: #ffffff;
            color: #333333;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            -webkit-overflow-scrolling: touch;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        html {
            height: 100%;
            width: 100%;
            overflow-x: hidden;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
            background: #ffffff;
        }

        body {
            -webkit-overflow-scrolling: touch;
            overflow-x: hidden;
            background: #ffffff;
        }

        @media (orientation: portrait) and (max-width: 768px) {
            html, body {
                overflow: hidden !important;
                height: 100vh !important;
                max-height: 100vh !important;
                position: fixed;
                width: 100%;
            }
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
        }

        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .progress-container {
            position: absolute;
            bottom: 30%;
            width: 80%;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .progress-bar-wrapper {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ffffff 0%, #f0f0f0 50%, #ffffff 100%);
            background-size: 200% 100%;
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease-out;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            animation: shimmer 2s linear infinite;
            position: relative;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .loading-text {
            color: white;
            font-size: 24px;
            font-weight: 300;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .loading-dots {
            display: inline-block;
        }

        .loading-dots span {
            color: #FFD700;
            font-size: 24px;
            font-weight: 300;
            display: inline-block;
            animation: wave 1.4s ease-in-out infinite;
        }

        .loading-dots span:nth-child(1) {
            animation-delay: 0s;
        }

        .loading-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes wave {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .loading-percentage {
            color: white;
            font-size: 14px;
            font-weight: 400;
            letter-spacing: 1px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            margin-top: 5px;
        }

        .loading-message {
            color: white;
            font-size: 16px;
            font-weight: 300;
            letter-spacing: 1px;
            text-align: center;
            margin-top: 20px;
            min-height: 24px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .loading-message.show {
            opacity: 1;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* Main Content */
        .main-content {
            min-height: 100vh;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 0;
            padding: 20px;
            opacity: 0;
            animation: fadeIn 0.8s ease-in 0.5s forwards;
            width: 100%;
            /* Let the page body handle scrolling to avoid clipping and flashing */
            overflow-y: visible;
            position: relative;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            transform: translateZ(0);
        }
        
        /* (Removed) Christmas decorations that floated around the page */
        .main-content::before,
        .main-content::after {
            content: none;
        }
        
        /* Additional floating Christmas elements */
        @keyframes floatAround {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(20px, -20px) rotate(5deg);
            }
            50% {
                transform: translate(-10px, -30px) rotate(-5deg);
            }
            75% {
                transform: translate(-20px, -10px) rotate(3deg);
            }
        }
        
        /* Disable floating Christmas decoration on body */
        body::before {
            content: none;
        }
        
        body::after {
            content: none;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .countdown-container {
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            padding: 15px 25px;
            /* Remove white card background so only the timer is visible */
            background: transparent;
            border-radius: 0;
            box-shadow: none;
            backdrop-filter: none;
            z-index: 100;
            min-width: 280px;
            max-width: 90%;
            border: none;
        }

        .countdown-title {
            font-size: 18px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .countdown-timer {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 6px;
            flex-wrap: wrap;
        }

        .countdown-timer span {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 45px;
            padding: 8px 12px;
            background: linear-gradient(135deg, #4A90E2 0%, #50C878 100%);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.4);
            font-weight: 700;
            margin: 0 3px;
        }

        .countdown-timer .time-label {
            color: #ff6b6b;
            font-size: 20px;
            font-weight: 700;
            margin-left: 3px;
            text-transform: uppercase;
        }

        /* Make sure countdown fits on one line on small screens so the last "S" doesn't drop below */
        @media (max-width: 420px) {
            .countdown-timer {
                font-size: 22px;
                gap: 4px;
                flex-wrap: nowrap;
            }

            .countdown-timer span {
                min-width: 38px;
                padding: 6px 8px;
            }

            .countdown-timer .time-label {
                font-size: 16px;
                margin-left: 2px;
            }
        }

        .button-container {
            display: flex !important;
            flex-direction: column;
            gap: 25px;
            align-items: center;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 80px; /* Move main buttons lower so content sits closer to bottom */
            z-index: 100;
            visibility: visible;
            opacity: 1;
        }
        
        /* Christmas decorations around buttons (disabled) */
        .button-container::before,
        .button-container::after {
            content: none;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-15px) rotate(5deg);
            }
        }
        
        /* Christmas decorations for individual buttons */
        .main-button .christmas-deco-left {
            position: absolute;
            top: -35px;
            left: 20px;
            font-size: 28px;
            animation: bounce 2s ease-in-out infinite;
            z-index: 2;
            pointer-events: none;
        }
        
        .main-button .christmas-deco-right {
            position: absolute;
            top: -35px;
            right: 20px;
            font-size: 28px;
            animation: spin 3s linear infinite;
            z-index: 2;
            pointer-events: none;
        }

        /* Hide decorative emojis on main buttons */
        .christmas-deco-left,
        .christmas-deco-right {
            display: none;
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .main-button {
            padding: 18px 50px;
            font-size: 20px;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
        }

        .main-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
            z-index: 0;
        }
        
        /* Christmas hat on top of buttons (disabled) */
        .main-button::after {
            content: none;
        }

        .main-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .main-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .main-button:active {
            transform: translateY(-1px);
        }

        .btn-about {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-favorites {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-updates {
            background: #00bfff;
            color: white;
            padding: 10px 28px;
            font-size: 16px;
            border-radius: 999px;
            letter-spacing: 0.5px;
        }

        .update-button-container {
            position: absolute;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            pointer-events: none;
        }
        
        /* Christmas decorations around update button container (disabled) */
        .update-button-container::before,
        .update-button-container::after {
            content: none;
        }
        
        /* Christmas decorations for update button (disabled) */
        .btn-updates::before,
        .btn-updates::after {
            content: none;
        }
        
        .btn-updates {
            position: relative;
        }

        .update-button-container.hidden {
            display: none;
        }

        .update-button-container .btn-updates {
            pointer-events: auto;
        }

        .christmas-message-link {
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
            font-size: 12px;
            letter-spacing: 0.5px;
            color: #b71c1c;
            cursor: pointer;
            text-decoration: none;
            transition: color 0.2s ease;
            pointer-events: auto;
            position: relative;
            display: block;
            width: 100%;
            align-items: center;
            justify-content: center;
        }

        .christmas-message-link:hover {
            color: #d32f2f;
        }

        .christmas-modal-box {
            background: #fff5f5;
            border-radius: 18px;
            padding: 24px 20px 20px;
            max-width: 500px;
            width: 90%;
            margin: 0 auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        }

        .christmas-modal-title {
            text-align: center;
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 16px;
            color: #b71c1c;
            letter-spacing: 1px;
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
            position: relative;
            padding-left: 35px;
            padding-right: 35px;
        }

        .christmas-modal-title span.clickable-s,
        .christmas-modal-title span.clickable-e {
            cursor: pointer;
            user-select: none;
        }
        
        .christmas-modal-title span.clickable-e:hover {
            opacity: 0.7;
        }


        .christmas-message-link-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 15px;
            width: 100%;
        }

        .christmas-warning-btn {
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(255, 87, 34, 0.3);
            color: #ff5722;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 10;
            border: 2px solid rgba(255, 87, 34, 0.3);
        }

        .christmas-warning-btn:hover {
            background: rgba(255, 87, 34, 0.5);
            transform: translateY(-50%) scale(1.1);
            border-color: rgba(255, 87, 34, 0.5);
        }

        .christmas-warning-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border: 3px solid #ff5722;
            border-radius: 12px;
            padding: 20px 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 10005;
            text-align: center;
            max-width: 300px;
        }

        .christmas-warning-popup p {
            margin: 0 0 10px 0;
            font-weight: 700;
            font-size: 16px;
            color: #c62828;
            line-height: 1.4;
        }
        
        .christmas-warning-popup p:last-of-type {
            margin-bottom: 15px;
        }

        .christmas-warning-popup .close-warning-btn {
            background: #ff5722;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }

        .christmas-warning-popup .close-warning-btn:hover {
            background: #d84315;
            transform: rotate(90deg);
        }

        .christmas-textarea {
            width: 100%;
            min-height: 140px;
            border-radius: 12px;
            border: 2px solid #ffcdd2;
            padding: 12px;
            resize: vertical;
            font-family: inherit;
            font-size: 14px;
            background: #ffebee;
            box-sizing: border-box;
        }

        .christmas-textarea::placeholder {
            color: #c62828;
            opacity: 0.7;
        }

        .christmas-message-display {
            width: 100%;
            min-height: 140px;
            max-height: 300px;
            border-radius: 12px;
            border: 2px solid #9e9e9e;
            border-left: 4px solid #757575;
            padding: 12px;
            font-family: inherit;
            font-size: 14px;
            background: #f5f5f5;
            box-sizing: border-box;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #333;
            line-height: 1.6;
            position: relative;
        }

        .christmas-message-display::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: repeating-linear-gradient(
                to bottom,
                transparent,
                transparent 20px,
                #bdbdbd 20px,
                #bdbdbd 22px
            );
        }

        .christmas-message-display::-webkit-scrollbar {
            width: 8px;
        }

        .christmas-message-display::-webkit-scrollbar-track {
            background: #e0e0e0;
            border-radius: 4px;
        }

        .christmas-message-display::-webkit-scrollbar-thumb {
            background: #9e9e9e;
            border-radius: 4px;
        }

        .christmas-message-display::-webkit-scrollbar-thumb:hover {
            background: #757575;
        }
        
        .christmas-message-close-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 28px;
            height: 28px;
            border: none;
            background: rgba(158, 158, 158, 0.3);
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            font-weight: 700;
            color: #424242;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease, transform 0.2s ease;
            z-index: 10;
            line-height: 1;
            padding: 0;
        }
        
        .christmas-message-close-btn:hover {
            background: rgba(158, 158, 158, 0.6);
            transform: scale(1.1);
        }
        
        #christmasMessageContent {
            padding-right: 10px;
        }

        .christmas-counter-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            font-size: 12px;
            color: #555;
        }

        .christmas-word-counter {
            font-weight: 600;
        }

        .christmas-submit-btn,
        .christmas-view-btn {
            margin-top: 12px;
            width: 100%;
            border: none;
            border-radius: 999px;
            padding: 10px 16px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
        }

        .christmas-submit-btn {
            background: #2e7d32;
            color: #fff;
            box-shadow: 0 4px 10px rgba(46, 125, 50, 0.4);
        }

        .christmas-submit-btn:hover {
            background: #1b5e20;
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(46, 125, 50, 0.5);
        }

        .christmas-submit-btn:disabled {
            background: #9e9e9e;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .christmas-submit-btn:disabled:hover {
            background: #9e9e9e;
            transform: none;
            box-shadow: 0 4px 10px rgba(46, 125, 50, 0.4);
        }

        .christmas-textarea:disabled {
            background: #f5f5f5;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .christmas-view-btn {
            background: #a5d6a7;
            color: #1b5e20;
            display: block;
        }

        .christmas-view-btn:hover {
            background: #81c784;
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(46, 125, 50, 0.5);
        }

        .christmas-hidden-button {
            position: absolute;
            top: 18px;
            right: 70px;
            width: 24px;
            height: 24px;
            border: none;
            background: transparent;
            opacity: 0;
            cursor: pointer;
        }

        .christmas-messages-list {
            max-height: 260px;
            overflow-y: auto;
            padding-right: 6px;
        }

        .christmas-message-item {
            background: #fff;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 8px;
            font-size: 13px;
            color: #333;
        }

        .christmas-message-item time {
            display: block;
            font-size: 11px;
            color: #777;
            margin-bottom: 4px;
        }

        .modal-updates {
            background: linear-gradient(135deg, #ffeef8 0%, #e8f5e9 100%);
        }

        .music-mini-button {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 11000;
            padding: 6px 14px 6px 12px;
            border-radius: 999px;
            border: none;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.35);
            backdrop-filter: blur(6px);
            max-width: calc(100vw - 20px);
            box-sizing: border-box;
        }

        .music-mini-icon {
            font-size: 16px;
            flex-shrink: 0;
        }

        .music-mini-card {
            display: none;
            flex-direction: column;
            gap: 4px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.25);
            border-radius: 14px;
            padding: 8px 12px;
            min-width: 180px;
            max-width: 230px;
            box-shadow: inset 0 0 12px rgba(255, 255, 255, 0.08), 0 6px 20px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(4px);
        }

        .music-mini-card.active {
            display: flex;
        }

        .music-mini-text-wrapper {
            overflow: hidden;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .music-mini-title {
            display: inline-block;
            white-space: nowrap;
            max-width: 100%;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .music-mini-subtext {
            font-size: 11px;
            color: #f0f0f0;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            max-width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .music-mini-inline-controls {
            display: none;
            margin-top: 8px;
            display: grid;
            grid-template-columns: repeat(4, minmax(40px, 1fr));
            gap: 6px;
        }

        .music-mini-inline-controls.active {
            display: flex;
            gap: 10px;
        }

        .music-mini-inline-btn {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            color: #fff;
        }

        @keyframes music-marquee {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        .music-mini-title.scrolling {
            animation: music-marquee 12s linear infinite;
        }

        @media (orientation: landscape) and (max-height: 500px) {
            .music-mini-button {
                top: 6px;
                right: 6px;
                padding: 4px 10px 4px 8px;
                font-size: 11px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.35);
                max-width: calc(100vw - 14px);
            }

            .music-mini-icon {
                font-size: 14px;
            }
        }

        @media (max-width: 768px) {
            .music-mini-button {
                top: 15px;
                right: 15px;
                padding: 8px 12px 8px 10px;
                font-size: 12px;
                max-width: calc(100vw - 30px);
            }

            .music-mini-panel {
                top: 55px;
                right: 15px;
                width: calc(100vw - 30px);
                max-width: 280px;
            }
        }

        .music-mini-panel {
            position: fixed;
            top: 60px;
            right: 10px;
            width: min(280px, 80vw);
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            border-radius: 16px;
            padding: 14px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.45);
            backdrop-filter: blur(10px);
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 10999;
        }

        .music-mini-panel-header {
            font-size: 14px;
            letter-spacing: 1px;
            font-weight: 600;
            text-transform: uppercase;
            color: #ffd700;
        }

        .music-mini-panel-box {
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: inset 0 0 14px rgba(0, 0, 0, 0.25);
        }

        .music-mini-panel-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 6px;
            text-transform: uppercase;
        }

        .music-mini-panel-status {
            font-size: 12px;
            color: #e0e0e0;
            letter-spacing: 0.5px;
        }

        .music-mini-panel-controls {
            display: flex;
            gap: 8px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .music-mini-panel-control {
            flex: 1 1 calc(50% - 8px);
            min-width: 60px;
            border: none;
            border-radius: 10px;
            padding: 8px;
            font-size: 12px;
            font-weight: 600;
            color: #333;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .music-mini-panel-control:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        .music-mini-panel-times {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #f0f0f0;
            margin-top: 8px;
        }


        .music-mini-button-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4caf50;
            box-shadow: 0 0 6px #4caf50;
        }

        .singer-social-list {
            font-size: 14px;
            margin-top: 10px;
        }

        .social-link {
            color: #555;
            font-weight: 600;
            letter-spacing: 0.3px;
            margin-bottom: 4px;
            display: block;
        }

        .social-label {
            color: #333;
            font-weight: 700;
            margin-right: 6px;
        }

        .social-link a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.3s ease;
            word-break: break-all;
        }

        .social-link a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        /* Modal Overlay */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-box {
            width: 90%;
            max-width: 800px;
            min-height: 80vh;
            max-height: 90vh;
            border-radius: 20px;
            padding: 50px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.4s ease;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            box-sizing: border-box;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-about {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .modal-favorites {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        .modal-singer {
            background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
        }

        .close-button {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 10003;
        }


        .close-button:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: rotate(90deg);
        }

        .close-button-left {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 10003;
        }

        .close-button-left:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: rotate(90deg);
        }

        .modal-content {
            margin-top: 20px;
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 10px;
            -webkit-overflow-scrolling: touch;
            width: 100%;
            box-sizing: border-box;
        }

        /* Music modal content should use full available height */
        .modal-music .modal-content {
            max-height: calc(90vh - 200px);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            padding-right: 10px;
        }

        /* Ensure What's New and Singer modals scroll the same way as Music */
        .modal-updates .modal-content,
        .modal-singer .modal-content {
            max-height: calc(90vh - 180px);
            padding-right: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .music-list,
        .updates-scroll-body,
        .singer-modal-content {
            max-height: calc(90vh - 220px);
            overflow-y: auto;
            padding: 20px;
            padding-right: 28px;
            -webkit-overflow-scrolling: touch;
        }

        .music-list,
        .updates-scroll-body,
        .singer-modal-content {
            flex: 1;
            width: 100%;
        }

        .music-list {
            padding-top: 10px;
            padding-left: 10px;
        }

        .updates-scroll-body {
            line-height: 1.8;
            color: #555;
            font-size: 15px;
        }

        .singer-modal-content {
            line-height: 2;
            color: #333;
        }

        .music-list::-webkit-scrollbar,
        .updates-scroll-body::-webkit-scrollbar,
        .singer-modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .music-list::-webkit-scrollbar-track,
        .updates-scroll-body::-webkit-scrollbar-track,
        .singer-modal-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        .music-list::-webkit-scrollbar-thumb,
        .updates-scroll-body::-webkit-scrollbar-thumb,
        .singer-modal-content::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .music-list::-webkit-scrollbar-thumb:hover,
        .updates-scroll-body::-webkit-scrollbar-thumb:hover,
        .singer-modal-content::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.4);
        }

        @media (max-width: 768px) {
            body {
                font-size: 16px;
                line-height: 1.5;
            }

            .main-content {
                height: auto;
                min-height: 100vh;
                padding: 20px 15px;
                justify-content: flex-start;
                padding-top: 20px;
                padding-bottom: 20px;
                width: 100%;
                box-sizing: border-box;
                overflow-x: hidden;
                overflow-y: visible;
                gap: 0;
                background: #ffffff;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                transform: translateZ(0);
            }

            .countdown-container {
                position: relative;
                top: auto;
                left: auto;
                transform: none;
                margin: 0 auto 25px auto;
                padding: 12px 18px;
                min-width: 240px;
                max-width: 95%;
                box-sizing: border-box;
            }

            .countdown-title {
                font-size: 14px;
                margin-bottom: 8px;
                letter-spacing: 1.5px;
            }

            .countdown-timer {
                font-size: 20px;
                letter-spacing: 1.5px;
                gap: 4px;
            }

            .countdown-timer span {
                min-width: 35px;
                padding: 6px 8px;
                font-size: 16px;
                margin: 0 2px;
                background: linear-gradient(135deg, #4A90E2 0%, #50C878 100%);
            }

            .countdown-timer .time-label {
                font-size: 16px;
                color: #ff6b6b;
                font-weight: 700;
            }

            .button-container {
                position: relative !important;
                top: auto !important;
                left: auto !important;
                bottom: auto !important;
                transform: none !important;
                width: 100%;
                max-width: 100%;
                margin: 0 auto 25px auto;
                gap: 20px;
                box-sizing: border-box;
                padding: 0 10px;
                display: flex !important;
                flex-direction: column;
                align-items: center;
                visibility: visible !important;
                opacity: 1 !important;
                z-index: 100 !important;
            }

            .main-button {
                font-size: 18px;
                width: 100%;
                max-width: 100%;
                padding: 16px 30px;
                box-sizing: border-box;
                margin-bottom: 0;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                position: relative;
            }

            .main-button::after {
                display: none;
            }

            .update-button-container {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                width: 100%;
                margin: 0 auto 25px auto;
                box-sizing: border-box;
                padding: 0 10px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            .christmas-message-link-wrapper {
                width: 100%;
                margin-bottom: 0;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .christmas-message-link {
                text-align: center;
                width: auto;
                display: inline-block;
            }

            .warning-message {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                width: 100%;
                max-width: 100%;
                margin: 30px auto 0;
                padding: 12px 15px;
                font-size: 11px;
                box-sizing: border-box;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            .modal-title {
                font-size: 24px;
            }

            .info-label,
            .info-value {
                font-size: 14px;
            }

            .christmas-message-link-wrapper {
                width: 100%;
                margin-bottom: 15px;
            }

            .christmas-message-link {
                width: 100%;
                padding: 12px;
                font-size: 11px;
                word-wrap: break-word;
                overflow-wrap: break-word;
                text-align: center;
            }
            
            .christmas-modal-box {
                width: 95%;
                max-width: 95%;
                padding: 20px 15px;
                margin: 10px auto;
            }
            
            .christmas-modal-title {
                font-size: 18px;
                word-wrap: break-word;
                overflow-wrap: break-word;
                padding: 0 5px;
            }
            
            .christmas-textarea {
                width: 100%;
                min-height: 120px;
                font-size: 14px;
                padding: 12px;
            }
            
            .christmas-submit-btn,
            .christmas-view-btn {
                width: 100%;
                padding: 12px;
                font-size: 14px;
                margin-top: 10px;
            }
            
            .modal-box {
                width: 95%;
                max-width: 95%;
                padding: 20px 15px;
            }
        }

        /* Mobile landscape specific adjustments for music and singer modals */
        @media (orientation: landscape) and (max-height: 500px) {
            .modal-music .modal-box,
            .modal-singer .modal-box {
                padding: 10px;
            }

            .modal-music .modal-title,
            .modal-singer .modal-title {
                font-size: 16px;
                margin-bottom: 5px;
            }

            .modal-music .modal-content,
            .modal-singer .modal-content {
                max-height: calc(98vh - 100px);
                padding-right: 5px;
                overflow: hidden;
                display: flex;
                flex-direction: column;
            }

            .modal-music .music-list,
            .modal-singer .singer-modal-content {
                padding-right: 5px;
            }

            .modal-music .song-item {
                margin-bottom: 12px;
            }

            .modal-music .music-info-button {
                top: 10px;
                right: 10px;
            }

            .modal-about .modal-box {
                max-height: 98vh;
                max-width: 95vw;
                padding: 15px;
            }

            .modal-about .modal-title {
                font-size: 18px;
                margin-bottom: 10px;
            }

            .modal-about .modal-content {
                max-height: calc(98vh - 80px);
                overflow-y: auto;
                padding-right: 5px;
            }
        }

        /* Other modals */
        .modal-about .modal-content,
        .modal-favorites .modal-content,
        .modal-gaming .modal-content,
        .modal-myapps .modal-content,
        .modal-calculator .modal-content {
            max-height: calc(90vh - 150px);
        }

        .modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.4);
        }

        .modal-title {
            text-align: center;
            font-size: 36px;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }

        .modal-text {
            text-align: center;
            font-size: 14px;
            color: #555;
            line-height: 1.6;
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 10px;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: space-between;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .modal-action-button {
            padding: 12px 30px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
        }

        .btn-exit {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        .btn-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .modal-action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .modal-action-button:active {
            transform: translateY(0);
        }

        .info-item {
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .info-item:hover {
            transform: translateX(10px);
        }

        .info-label {
            font-size: 14px;
            font-weight: 600;
            color: #555;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-value {
            font-size: 18px;
            color: #333;
            font-weight: 500;
        }

        .name-item, .hobbies-item, .favorites-item {
            position: relative;
        }

        .name-with-button, .hobbies-with-button, .favorites-with-button {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .favorites-title-with-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .info-toggle-button {
            background: #4CAF50;
            border: none;
            border-radius: 8px;
            width: 35px;
            height: 30px;
            cursor: pointer;
            font-size: 18px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
            flex-shrink: 0;
            font-weight: bold;
        }

        .info-toggle-button.disabled {
            background: #808080;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            cursor: not-allowed;
            opacity: 0.9;
        }

        .info-toggle-button.disabled:hover,
        .info-toggle-button.disabled:active {
            transform: none;
        }

        .info-toggle-button:hover {
            background: #45a049;
            transform: translateX(3px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.5);
        }

        .info-toggle-button:active {
            transform: translateX(1px);
        }

        .info-toggle-button.rotated {
            transform: rotate(180deg);
        }

        .info-toggle-button.rotated:hover {
            transform: rotate(180deg) translateX(-3px);
        }

        .personal-info-box {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease, margin 0.3s ease;
            opacity: 0;
            margin: 0;
        }

        .personal-info-box.show {
            max-height: 500px;
            opacity: 1;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        .personal-info-container {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(76, 175, 80, 0.3);
        }

        .personal-info-box .info-item {
            margin-bottom: 15px;
            animation: slideDown 0.3s ease;
        }

        .personal-info-box .info-item:last-child {
            margin-bottom: 0;
        }

        .message-for-me-box {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease, margin 0.3s ease;
            opacity: 0;
            margin: 0;
        }

        .message-for-me-box.show {
            max-height: 200px;
            opacity: 1;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        .hobbies-box {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease, margin 0.3s ease;
            opacity: 0;
            margin: 0;
        }

        .hobbies-box.show {
            max-height: 300px;
            opacity: 1;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        .back-button-box {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            margin-top: 20px;
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
            justify-content: space-between;
        }

        .back-button-box .small-button {
            flex: 1;
            padding: 10px 20px;
            font-size: 14px;
        }

        .back-button-box .btn-back {
            margin-right: auto;
        }

        .back-button-box .btn-exit {
            margin-left: auto;
        }

        .about-favorites-box {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease, margin 0.3s ease;
            opacity: 0;
            margin: 0;
        }

        .about-favorites-box.show {
            max-height: 2000px;
            opacity: 1;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        .favorites-topics-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .favorite-topic-box {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(76, 175, 80, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .favorite-topic-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .favorite-topic-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .favorite-topic-emoji {
            font-size: 28px;
        }

        .favorite-topic-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .favorite-topic-description {
            font-style: italic;
            color: #555;
            line-height: 1.6;
            font-size: 14px;
        }

        .description-short {
            display: inline;
        }

        .description-short.expanded {
            display: none !important;
        }

        .description-full {
            display: none !important;
        }

        .description-full.expanded {
            display: inline !important;
        }

        .see-more-link {
            color: #808080;
            cursor: pointer;
            font-weight: 600;
            text-decoration: underline;
            margin-left: 2px;
            font-style: normal;
            transition: color 0.3s ease;
        }

        .see-more-link:hover {
            color: #707070;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .favorites-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-top: 30px;
            width: 100%;
            box-sizing: border-box;
        }

        @media (min-width: 769px) {
            .favorites-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        .favorite-card {
            background: rgba(255, 255, 255, 0.7);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            overflow: hidden;
            min-width: 0;
        }

        .favorite-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .favorite-card.clickable {
            cursor: pointer;
        }

        .modal-gaming {
            background: linear-gradient(135deg, #ffd89b 0%, #ff9a56 100%);
        }

        .modal-myapps {
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
        }

        .myapps-app-box {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px 16px;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            cursor: pointer;
            border: 2px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: auto;
        }

        .myapps-app-box:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .myapps-app-emoji {
            font-size: 24px;
        }

        .myapps-app-label {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        #calculatorModal .modal-box,
        .modal-calculator .modal-box {
            max-width: 95vw;
            width: 90vw;
            min-height: 0 !important;
            max-height: 90vh;
            height: auto;
            padding: 0;
            margin: 20px;
            border-radius: 12px;
            overflow: hidden !important;
            overflow-y: hidden !important;
            overflow-x: hidden !important;
            -webkit-overflow-scrolling: auto;
            background: #1a1b26;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        #calculatorModal .modal-content,
        #calculatorModal .modal-calculator-content,
        .modal-calculator .modal-content,
        .modal-calculator-content {
            position: relative;
            min-height: 0;
            max-height: none;
            margin: 0;
            padding: 0;
            background: #1a1b26;
            overflow: hidden !important;
            overflow-y: hidden !important;
            overflow-x: hidden !important;
        }

        #calculatorModal .modal-box::-webkit-scrollbar,
        #calculatorModal .modal-content::-webkit-scrollbar,
        .modal-calculator .modal-box::-webkit-scrollbar,
        .modal-calculator .modal-content::-webkit-scrollbar {
            display: none !important;
            width: 0;
            height: 0;
        }

        #calculatorModal .modal-box,
        #calculatorModal .modal-content,
        .modal-calculator .modal-box,
        .modal-calculator .modal-content {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .calculator-close-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            z-index: 10004;
            width: 36px;
            height: 36px;
            font-size: 22px;
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calculator-close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .calculator-iframe {
            width: 100%;
            height: 78vh;
            min-height: 580px;
            border: none;
            border-radius: 0 0 12px 12px;
            display: block;
        }

        /* Calculator modal: full screen on mobile so no "Music" or background shows, one clear scroll */
        @media (max-width: 768px) {
            #calculatorModal .modal-box,
            .modal-calculator .modal-box {
                width: 100vw !important;
                max-width: 100vw !important;
                height: 100vh !important;
                max-height: 100vh !important;
                margin: 0 !important;
                border-radius: 0 !important;
            }
            .modal-calculator .calculator-iframe {
                height: 100vh !important;
                min-height: 100vh !important;
                border-radius: 0 !important;
            }
            .calculator-close-btn {
                top: 8px;
                right: 8px;
                width: 40px;
                height: 40px;
                font-size: 24px;
            }
        }

        @media (max-width: 768px) and (max-height: 600px) {
            .modal-calculator .calculator-iframe {
                height: 100vh !important;
                min-height: 100vh !important;
            }
        }

        .modal-music {
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
        }

        .gaming-image-container {
            text-align: center;
            margin: 30px 0;
        }

        .gaming-title {
            text-align: left;
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .gaming-image {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .gaming-image:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .gaming-click-button {
            margin: 25px 0;
            text-align: left;
        }

        .btn-click-me {
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #808080;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            text-decoration: none;
            display: inline-block;
        }

        .btn-click-me:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-click-me:active {
            transform: translateY(-1px);
        }

        .gaming-link-button {
            display: inline-block;
            padding: 10px 25px;
            font-size: 16px;
            font-weight: 600;
            background: #808080;
            color: white;
            border: 2px solid #666;
            border-radius: 8px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .gaming-link-button:hover {
            background: #707070;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .gaming-link-button:active {
            transform: translateY(0);
        }

        .music-player-container {
            margin: 20px 0;
        }

        .music-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .play-button, .music-control-button {
            padding: 12px 30px;
            font-size: 18px;
            font-weight: 600;
            background: #808080;
            color: white;
            border: 2px solid #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            display: inline-block;
        }

        .music-control-button {
            padding: 10px 20px;
            font-size: 16px;
        }

        /* Play button - Green when playing */
        .play-button.playing {
            background: #4caf50;
            border-color: #45a049;
        }

        .play-button.playing:hover {
            background: #45a049;
        }

        /* Pause button - Yellow when playing */
        .play-button.paused {
            background: #ffc107;
            border-color: #ffb300;
            color: #333;
        }

        .play-button.paused:hover {
            background: #ffb300;
        }

        /* +5s button - Green when song is playing */
        .song-playing .music-control-button[onclick*="5)"] {
            background: #4caf50;
            border-color: #45a049;
        }

        .song-playing .music-control-button[onclick*="5)"]:hover {
            background: #45a049;
        }

        /* -5s button - Light Red when song is playing */
        .song-playing .music-control-button[onclick*="-5)"] {
            background: #ff6b6b;
            border-color: #ff5252;
        }

        .song-playing .music-control-button[onclick*="-5)"]:hover {
            background: #ff5252;
        }

        /* Repeat button - Purple when song is playing */
        .song-playing .music-control-button[onclick*="restartMusic"] {
            background: #9c27b0;
            border-color: #7b1fa2;
        }

        .song-playing .music-control-button[onclick*="restartMusic"]:hover {
            background: #7b1fa2;
        }

        .play-button:hover, .music-control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .play-button:active, .music-control-button:active {
            transform: translateY(0);
        }

        .music-progress-container {
            width: 100%;
            margin-top: 15px;
            display: none;
        }

        .music-progress-container.active {
            display: block;
        }

        .music-progress-bar-wrapper {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            overflow: visible;
            margin-bottom: 10px;
            position: relative;
            cursor: pointer;
        }

        .music-progress-bar {
            height: 100%;
            background: black;
            border-radius: 10px;
            width: 0%;
            transition: width 0.1s linear;
            position: relative;
        }

        .music-progress-bar-wrapper.dragging .music-progress-bar {
            transition: none;
        }

        .music-progress-bar::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: white;
            border-radius: 50%;
            border: 2px solid rgba(0, 0, 0, 0.2);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .music-time {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #555;
            font-weight: 500;
        }

        .song-item {
            margin-bottom: 20px;
        }

        .song-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .music-info-button {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
            z-index: 10002;
        }

        .music-info-button:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: rotate(90deg);
        }

        .music-info-button.active {
            background: rgba(255, 107, 107, 0.6);
            backdrop-filter: blur(10px);
            color: white;
            transform: rotate(180deg);
        }

        .music-info-button.active:hover {
            background: rgba(255, 107, 107, 0.8);
            transform: rotate(180deg);
        }

        .music-disclaimer-box {
            position: absolute;
            top: 75px;
            right: 20px;
            width: 300px;
            max-width: calc(100% - 40px);
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            text-align: center;
            font-style: italic;
            font-size: 11px;
            color: #555;
            line-height: 1.6;
            display: none;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            z-index: 10001;
            backdrop-filter: blur(10px);
        }

        .music-disclaimer-box.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .disclaimer-button {
            margin-top: 15px;
            padding: 8px 20px;
            font-size: 13px;
            font-weight: 600;
            background: #808080;
            color: white;
            border: 2px solid #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            display: inline-block;
            font-style: normal;
        }

        .disclaimer-button:hover {
            background: #707070;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .disclaimer-button:active {
            transform: translateY(0);
        }

        .hidden-link {
            display: none;
        }

        .favorite-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        /* Unavailable Message Box */
        .unavailable-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            z-index: 10003;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #333;
            display: none;
            animation: fadeIn 0.3s ease;
            max-width: 400px;
            border: 3px solid #ff6b6b;
        }

        .unavailable-message.show {
            display: block;
        }

        .unavailable-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10002;
            display: none;
        }

        .unavailable-overlay.show {
            display: block;
        }

        .unavailable-close {
            margin-top: 20px;
            padding: 10px 30px;
            font-size: 16px;
            font-weight: 600;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .unavailable-close:hover {
            background: #ee5a6f;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        /* Form link below warning box */
        .form-link-below {
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            bottom: 10px;
            z-index: 10004;
            font-size: 12px;
            width: auto;
            text-align: center;
        }

        @media (max-width: 768px) {
            .form-link-below {
                position: fixed;
                left: 50%;
                transform: translateX(-50%);
                bottom: 10px;
                width: auto;
                text-align: center;
                margin-top: 0;
                margin-bottom: 0;
            }
        }

        /* Personal details access gate */
        .access-gate {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 16px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(128, 128, 128, 0.4);
            margin-top: 12px;
            display: none;
        }

        .access-gate-title {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
            text-align: center;
        }

        .access-gate-msg {
            font-size: 14px;
            color: #444;
            text-align: center;
            margin-bottom: 8px;
        }

        .access-gate-link {
            color: #808080;
            cursor: pointer;
            font-weight: 700;
            text-decoration: underline;
            transition: color 0.3s ease;
        }

        .access-gate-link:hover {
            color: #707070;
        }

        .otp-container {
            margin-top: 10px;
            display: none;
            text-align: center;
        }

        .otp-input {
            padding: 10px 14px;
            font-size: 16px;
            width: 160px;
            text-align: center;
            border-radius: 8px;
            border: 2px solid #bbb;
            outline: none;
        }

        .otp-input:focus {
            border-color: #888;
        }

        .otp-submit {
            margin-left: 8px;
            padding: 10px 16px;
            font-size: 16px;
            font-weight: 600;
            background: #808080;
            color: white;
            border: 2px solid #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .otp-submit:hover {
            background: #707070;
            transform: translateY(-2px);
        }

        .otp-feedback {
            margin-top: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #cc0000;
            min-height: 18px;
        }

        /* Welcome toast */
        .welcome-toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #4caf50;
            color: #fff;
            padding: 10px 16px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-weight: 700;
            z-index: 10005;
            display: none;
        }

        /* Post-loading welcome intro */
        .intro-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #dff5e1;
            color: #1b5e20;
            padding: 20px 24px;
            border-radius: 14px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
            z-index: 10004;
            width: 90%;
            max-width: 640px;
            display: none;
            opacity: 1;
            transition: opacity 0.8s ease;
            text-align: center;
            border: 2px solid rgba(27, 94, 32, 0.2);
        }

        .intro-box.show {
            display: block;
        }

        .intro-box.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .intro-title {
            font-size: 22px;
            font-weight: 800;
            margin-bottom: 10px;
            color: #1b5e20;
        }

        .intro-message {
            font-size: 14px;
            color: #1e4620;
            line-height: 1.6;
            white-space: pre-line;
        }

        .intro-skip {
            margin-top: 14px;
            padding: 10px 18px;
            font-size: 14px;
            font-weight: 700;
            background: #808080;
            color: white;
            border: 2px solid #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .intro-skip:hover {
            background: #707070;
            transform: translateY(-2px);
        }

        /* Warning Message Box */
        .warning-message {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            background: #ffcccc;
            border: 2px solid #ff9999;
            border-radius: 10px;
            text-align: center;
            font-size: 14px;
            color: #cc0000;
            font-weight: 500;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 2px 10px rgba(255, 0, 0, 0.1);
        }

        .favorite-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .favorite-description {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        @media (max-width: 768px) {
            .modal-box {
                width: 95%;
                padding: 25px 18px;
                min-height: 70vh;
                max-height: 90vh;
                box-sizing: border-box;
                overflow-x: hidden;
            }

            .modal-content {
                width: 100%;
                overflow-x: hidden;
                box-sizing: border-box;
            }

            .modal-title {
                font-size: 24px;
                margin-bottom: 15px;
            }

            .info-value {
                font-size: 16px;
            }

            .info-label {
                font-size: 12px;
            }

            .modal-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .modal-action-button {
                width: 100%;
                padding: 12px 25px;
                font-size: 15px;
            }

            .progress-container {
                width: 90%;
                bottom: 25%;
            }

            .loading-percentage {
                font-size: 28px;
            }

            .loading-text {
                font-size: 20px;
            }

            .loading-dots span {
                font-size: 20px;
            }

            .info-toggle-button {
                width: 32px;
                height: 28px;
                font-size: 16px;
            }

            .name-with-button, .hobbies-with-button, .favorites-with-button {
                gap: 8px;
            }

            .personal-info-container {
                padding: 15px;
            }

            .back-button-box {
                padding: 12px;
            }

            .modal-content {
                max-height: calc(90vh - 150px);
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                padding-right: 5px;
            }

            .favorites-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                width: 100%;
                padding: 0;
                margin-top: 20px;
            }

            .favorite-card {
                padding: 20px 15px;
                width: 100%;
                max-width: 100%;
                margin: 0;
            }

            .favorite-title {
                font-size: 18px;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            .favorite-description {
                font-size: 13px;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }
        }

        /* Portrait Orientation Styles - Mobile */
        @media (orientation: portrait) and (max-width: 768px) {
            .main-content {
                justify-content: flex-start;
                padding: 20px 15px;
                padding-top: 80px;
                padding-bottom: 20px;
                height: 100vh;
                max-height: 100vh;
                min-height: 100vh;
                overflow-y: hidden;
                overflow-x: hidden;
                width: 100%;
                box-sizing: border-box;
                gap: 0;
                background: #ffffff;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                transform: translateZ(0);
            }

            .countdown-container {
                position: relative;
                top: auto;
                left: auto;
                transform: none;
                margin: 0 auto 35px auto;
                padding: 10px 15px;
                min-width: 220px;
                max-width: 95%;
                box-sizing: border-box;
            }

            .countdown-title {
                font-size: 12px;
                margin-bottom: 6px;
                letter-spacing: 1px;
            }

            .countdown-timer {
                font-size: 18px;
                letter-spacing: 1px;
                gap: 3px;
            }

            .countdown-timer span {
                min-width: 30px;
                padding: 5px 7px;
                font-size: 14px;
                margin: 0 2px;
                background: linear-gradient(135deg, #4A90E2 0%, #50C878 100%);
            }

            .countdown-timer .time-label {
                font-size: 14px;
                color: #ff6b6b;
                font-weight: 700;
            }

            .button-container {
                width: 100%;
                max-width: 100%;
                position: relative !important;
                top: auto !important;
                left: auto !important;
                bottom: auto !important;
                transform: none !important;
                margin: 0 auto 35px auto;
                gap: 20px;
                box-sizing: border-box;
                padding: 0 10px;
                display: flex !important;
                flex-direction: column !important;
                align-items: center;
                visibility: visible !important;
                opacity: 1 !important;
                z-index: 100 !important;
            }

            .main-button {
                width: 100%;
                max-width: 100%;
                padding: 16px 25px;
                font-size: 17px;
                box-sizing: border-box;
                margin-bottom: 0;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                position: relative;
            }

            .main-button::after {
                display: none;
            }

            .update-button-container {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                width: 100%;
                margin: 0 auto 35px auto;
                box-sizing: border-box;
                padding: 0 10px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            .btn-updates {
                padding: 10px 24px !important;
                font-size: 15px !important;
                width: auto !important;
                max-width: 85% !important;
            }

            .christmas-message-link-wrapper {
                width: 100%;
                margin-bottom: 0;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .christmas-message-link {
                text-align: center;
                width: auto;
                display: inline-block;
            }

            .warning-message {
                width: 100%;
                max-width: 100%;
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                margin: 45px auto 0;
                padding: 12px 15px;
                font-size: 11px;
                box-sizing: border-box;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            .form-link-below {
                position: relative !important;
                bottom: auto !important;
                left: auto !important;
                transform: none !important;
                width: 100%;
                max-width: 100%;
                margin: 20px auto 0;
                padding: 10px 15px;
                text-align: center;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                z-index: 100;
            }

            .modal-box {
                width: 95%;
                max-height: 90vh;
                padding: 25px 18px;
                margin: 10px auto;
            }

            .modal-favorites .modal-box {
                width: 98%;
                max-width: 98%;
                margin: 10px auto;
                padding: 20px 12px;
            }

            .modal-favorites .modal-content {
                max-height: none;
                overflow-y: visible;
                overflow-x: hidden;
                -webkit-overflow-scrolling: auto;
            }

            .favorites-grid {
                grid-template-columns: 1fr;
                gap: 18px;
                width: 100%;
                padding: 0;
                margin-top: 20px;
            }

            .favorite-card {
                width: 100%;
                max-width: 100%;
                padding: 20px 15px;
                margin: 0;
                box-sizing: border-box;
            }

            .modal-title {
                font-size: 22px;
                margin-bottom: 15px;
            }

            .modal-content {
                max-height: calc(90vh - 150px);
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .christmas-message-link {
                font-size: 10px;
                padding: 10px;
                word-wrap: break-word;
                overflow-wrap: break-word;
                text-align: center;
            }
            
            .christmas-modal-box {
                width: 95%;
                max-width: 95%;
                padding: 20px 15px;
            }
            
            .christmas-modal-title {
                font-size: 16px;
                word-wrap: break-word;
                overflow-wrap: break-word;
                padding: 0 5px;
            }
            
            .christmas-textarea {
                font-size: 14px;
                padding: 10px;
            }
        }

        /* Portrait Orientation Styles - Desktop */
        @media (orientation: portrait) and (min-width: 769px) {
            .main-content {
                justify-content: center;
                padding-top: 40px;
                padding-bottom: 40px;
            }

            .button-container {
                width: 100%;
                max-width: 100%;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .main-button {
                width: 90%;
                max-width: 400px;
            }

            .warning-message {
                width: 90%;
                max-width: 400px;
                bottom: 30px;
            }

            .modal-box {
                width: 95%;
                max-height: 85vh;
                padding: 30px 20px;
            }

            .favorites-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .modal-title {
                font-size: 24px;
            }
        }

        /* Landscape Orientation Styles - Mobile */
        @media (orientation: landscape) and (max-width: 768px) {
            .main-content {
                justify-content: flex-start;
                min-height: 100vh;
                padding: 15px 10px;
                padding-top: 20px;
                padding-bottom: 20px;
                overflow-y: visible;
                overflow-x: hidden;
                width: 100%;
                box-sizing: border-box;
                gap: 0;
                background: #ffffff;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                transform: translateZ(0);
            }

            .countdown-container {
                position: relative;
                top: auto;
                left: auto;
                transform: none;
                margin: 0 auto 15px auto;
                padding: 10px 15px;
                min-width: 220px;
                max-width: 95%;
                box-sizing: border-box;
            }

            .button-container {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
                position: relative !important;
                top: auto !important;
                left: auto !important;
                bottom: auto !important;
                transform: none !important;
                width: 100%;
                margin: 0 auto 15px auto;
                box-sizing: border-box;
                padding: 0 5px;
                display: flex !important;
                align-items: center;
                visibility: visible !important;
                opacity: 1 !important;
                z-index: 100 !important;
            }

            .main-button {
                flex: 1 1 calc(50% - 10px);
                min-width: 140px;
                max-width: 200px;
                padding: 12px 20px;
                font-size: 15px;
                visibility: visible !important;
                opacity: 1 !important;
                position: relative;
            }

            .main-button::after {
                display: none;
            }

            .update-button-container {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                width: 100%;
                margin: 0 auto 15px auto;
                box-sizing: border-box;
                padding: 0 5px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .christmas-message-link-wrapper {
                width: 100%;
                margin-bottom: 0;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .christmas-message-link {
                text-align: center;
                width: auto;
                display: inline-block;
            }

            .warning-message {
                width: 100%;
                max-width: 100%;
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                margin: 0 auto 15px auto;
                padding: 10px 15px;
                font-size: 10px;
                box-sizing: border-box;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            .form-link-below {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                text-align: center;
                margin: 0 auto 10px auto;
                width: 100%;
                display: block;
            }

            .modal-box {
                max-height: 95vh;
                padding: 20px 15px;
                width: 98%;
                box-sizing: border-box;
                overflow-x: hidden;
            }

            .modal-favorites .modal-box {
                width: 98%;
                max-width: 98%;
            }

            .modal-favorites .modal-content {
                max-height: none;
                overflow-y: visible;
            }

            .favorites-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                width: 100%;
                padding: 0;
            }

            .favorite-card {
                width: 100%;
                max-width: 100%;
                padding: 18px 12px;
                box-sizing: border-box;
            }

            .modal-content {
                width: 100%;
                overflow-x: hidden;
                box-sizing: border-box;
            }

            .modal-title {
                font-size: 20px;
                margin-bottom: 12px;
            }

            .modal-content {
                max-height: calc(95vh - 120px);
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .progress-container {
                bottom: 15%;
            }

            .christmas-message-link {
                font-size: 9px;
                padding: 8px;
                word-wrap: break-word;
                overflow-wrap: break-word;
                text-align: center;
            }
            
            .christmas-modal-box {
                width: 98%;
                max-width: 98%;
                padding: 15px 10px;
            }
            
            .christmas-modal-title {
                font-size: 14px;
                word-wrap: break-word;
                overflow-wrap: break-word;
                padding: 0 3px;
            }
        }

        /* Landscape Orientation Styles - Desktop */
        @media (orientation: landscape) and (min-width: 769px) {
            .main-content {
                justify-content: center;
                min-height: 100vh;
            }

            .button-container {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                display: flex !important;
            }

            .main-button {
                flex: 0 0 auto;
                min-width: 200px;
            }

            .warning-message {
                width: 100%;
                max-width: 600px;
                bottom: 30px;
            }

            .modal-box {
                max-height: 95vh;
                padding: 40px;
            }

            .favorites-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }

            .modal-title {
                font-size: 32px;
            }

            .progress-container {
                bottom: 20%;
            }
        }

        /* Landscape on mobile devices with low height */
        @media (orientation: landscape) and (max-height: 500px) and (max-width: 768px) {
            .main-content {
                padding: 8px 10px;
                padding-top: 20px;
                padding-bottom: 20px;
                height: auto;
                min-height: 100vh;
                overflow-y: visible;
                overflow-x: hidden;
                background: #ffffff;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                transform: translateZ(0);
            }
            
            .christmas-modal-box {
                width: 98%;
                max-width: 98%;
                padding: 15px 10px;
            }
            
            .christmas-modal-title {
                font-size: 14px;
                word-wrap: break-word;
                overflow-wrap: break-word;
                padding: 0 3px;
            }
            
            .christmas-textarea {
                font-size: 13px;
                padding: 10px;
            }
            
            .christmas-submit-btn,
            .christmas-view-btn {
                padding: 10px;
                font-size: 13px;
            }

            .countdown-container {
                position: relative;
                top: auto;
                left: auto;
                transform: none;
                margin: 0 auto 10px auto;
                padding: 6px 10px;
                min-width: 200px;
                max-width: 95%;
                box-sizing: border-box;
            }

            .countdown-title {
                font-size: 11px;
                margin-bottom: 4px;
                letter-spacing: 1px;
            }

            .countdown-timer {
                font-size: 14px;
                letter-spacing: 1px;
                gap: 2px;
            }

            .countdown-timer span {
                min-width: 25px;
                padding: 3px 5px;
                font-size: 12px;
                margin: 0 1px;
                background: linear-gradient(135deg, #4A90E2 0%, #50C878 100%);
            }

            .countdown-timer .time-label {
                font-size: 12px;
                color: #ff6b6b;
                font-weight: 700;
            }

            .countdown-container {
                position: relative;
                top: auto;
                left: auto;
                transform: none;
                margin: 0 auto 10px auto;
                padding: 6px 10px;
                min-width: 200px;
                max-width: 95%;
                box-sizing: border-box;
            }

            .button-container {
                gap: 10px;
                position: relative !important;
                top: auto !important;
                left: auto !important;
                bottom: auto !important;
                transform: none !important;
                width: 100%;
                margin: 0 auto 10px auto;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                box-sizing: border-box;
                padding: 0 5px;
                display: flex !important;
                align-items: center;
                visibility: visible !important;
                opacity: 1 !important;
                z-index: 100 !important;
            }

            .main-button {
                visibility: visible !important;
                opacity: 1 !important;
                min-width: 120px;
                flex: 1 1 calc(50% - 5px);
                position: relative;
            }

            .main-button::after {
                display: none;
            }

            .update-button-container {
                position: relative;
                transform: none;
                bottom: auto;
                width: 100%;
                justify-content: center;
                margin: 0 auto 10px auto;
                pointer-events: auto;
                box-sizing: border-box;
                padding: 0 5px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }

            .warning-message {
                width: 100%;
                max-width: 100%;
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                margin: 0 auto 10px auto;
                padding: 8px 12px;
                font-size: 9px;
                box-sizing: border-box;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            .form-link-below {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                text-align: center;
                margin: 0 auto 8px auto;
                width: 100%;
                display: block;
                font-size: 11px;
            }

            .favorites-grid {
                grid-template-columns: 1fr;
                gap: 12px;
                width: 100%;
                padding: 0;
            }

            .favorite-card {
                width: 100%;
                max-width: 100%;
                padding: 15px 10px;
                box-sizing: border-box;
            }

            .modal-box {
                width: 98%;
                max-width: 98%;
                padding: 15px 10px;
                box-sizing: border-box;
                overflow-x: hidden;
            }

            .update-button-container {
                position: relative;
                transform: none;
                bottom: auto;
                width: 100%;
                justify-content: center;
                margin-top: 15px;
                margin-bottom: 10px;
                pointer-events: auto;
                box-sizing: border-box;
                padding: 0 5px;
            }

            .main-button {
                padding: 10px 20px;
                font-size: 14px;
                flex: 1 1 calc(50% - 8px);
                min-width: 120px;
                max-width: 180px;
            }

            .btn-updates {
                padding: 8px 18px;
                font-size: 12px;
            }

            .warning-message {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                width: 100%;
                max-width: 100%;
                margin: 12px auto 0;
                padding: 8px 12px;
                font-size: 9px;
            }

            .modal-updates .modal-content,
            .modal-singer .modal-content {
                max-height: calc(100vh - 40px);
                padding: 12px 15px;
            }

            .music-list,
            .updates-scroll-body,
            .singer-modal-content {
                max-height: calc(100vh - 80px);
                padding: 8px 15px 15px 8px;
            }

            .modal-box {
                width: 100%;
                max-width: 100%;
                height: 100vh;
                max-height: 100vh;
                min-height: 100vh;
                padding: 10px;
                border-radius: 0;
                margin: 0;
            }

            .modal-updates .modal-box,
            .modal-singer .modal-box,
            .modal-music .modal-box,
            .modal-gaming .modal-box {
                padding: 10px;
                margin: 0;
                border-radius: 0;
            }

            .modal-title {
                font-size: 16px;
                margin-bottom: 6px;
            }

            .modal-content {
                max-height: calc(100vh - 100px);
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .modal-content {
                max-height: calc(100vh - 40px);
                margin-top: 0;
                height: auto;
                padding: 15px;
            }

            .modal-music .modal-content {
                max-height: calc(100vh - 40px);
                padding: 15px 20px;
            }

            .music-info-button {
                top: 10px;
                right: 10px;
                width: 35px;
                height: 35px;
                font-size: 18px;
            }

            .music-disclaimer-box {
                top: 50px;
                right: 10px;
                width: calc(100% - 20px);
                max-width: calc(100% - 20px);
                padding: 15px;
                font-size: 10px;
            }

            .info-item {
                padding: 10px;
                margin-bottom: 10px;
            }

            .info-label {
                font-size: 11px;
            }

            .info-value {
                font-size: 14px;
            }

            .song-controls {
                gap: 5px;
            }

            .play-button, .music-control-button {
                padding: 8px 15px;
                font-size: 14px;
            }

            .modal-buttons {
                margin-top: 10px;
                gap: 8px;
            }

            .modal-action-button {
                padding: 10px 20px;
                font-size: 14px;
            }

            .close-button-left {
                top: 10px;
                left: 10px;
                width: 35px;
                height: 35px;
                font-size: 20px;
            }

            .close-button {
                top: 10px;
                right: 10px;
                width: 35px;
                height: 35px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen" style="cursor: pointer;">
        <div class="progress-container">
            <div class="loading-text" id="loadingText" style="display: none;">Loading<span class="loading-dots"><span>.</span><span>.</span><span>.</span></span></div>
            <div class="loading-percentage" id="loadingPercentage" style="display: none;">0%</div>
            <div class="progress-bar-wrapper" id="progressBarWrapper" style="display: none;">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="loading-message" id="loadingMessage" style="display: none;"></div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <div class="countdown-container" id="countdownContainer" style="display: none;">
            <div class="countdown-title">COUNTDOWN TO 2026</div>
            <div class="countdown-timer" id="countdownTimer">
                <span id="days">00</span><span class="time-label">D</span>
                <span id="hours">00</span><span class="time-label">H</span>
                <span id="minutes">00</span><span class="time-label">M</span>
                <span id="seconds">00</span><span class="time-label">S</span>
            </div>
        </div>
        <div class="button-container" id="mainButtonContainer" style="display: flex !important; visibility: visible !important; opacity: 1 !important;">
            <button class="main-button btn-about" onclick="openModal('about')">
                <span class="christmas-deco-left"></span>
                <span class="christmas-deco-right"></span>
                About Me
            </button>
            <button class="main-button btn-favorites" onclick="openModal('favorites')">
                <span class="christmas-deco-left"></span>
                <span class="christmas-deco-right"></span>
                My Favorites
            </button>
        </div>
        <div class="update-button-container hidden" id="updateButtonContainer" style="display: none !important;">
            <div id="comingSoonMainLink" class="christmas-message-link-wrapper" style="display:none;">
                <div class="christmas-message-link" onclick="openComingSoonInAboutMe()">
                    MESSAGE FOR MYSELF
                </div>
            </div>
            <button class="main-button btn-updates" onclick="openModal('updates')">WHAT'S NEW</button>
        </div>
        <div class="warning-message" id="mainWarning" style="display: none;">
            THIS ISN'T OFFICIALLY FINISHED YET; I STILL HAVE MANY WORKS TO DO
            <div id="warningTimerLine" style="margin-top:6px;font-weight:700;">
                UPDATES IN <span id="warningTimer">84:00:00:00</span>
            </div>
        </div>
        <!-- Outside the box link below the warning + timer -->
        <div class="form-link-below" id="formLinkBelow" style="display: block !important;">
            <a
                href="https://docs.google.com/forms/d/e/1FAIpQLSepwgBcRWKOAWcpfeGn-Jb2_nK6MYzGJtufxtD5QI1iA2-1IA/viewform?usp=dialog"
                target="_blank"
                rel="noopener noreferrer"
                style="color:#2e7d32; font-weight:700; font-style:italic; text-decoration:none; cursor:pointer;"
            >ANSWER THIS FORM</a>
        </div>
    </div>
    <!-- Welcome Intro Box -->
    <div id="introBox" class="intro-box" role="dialog" aria-live="polite">
        <div class="intro-title">WELCOME</div>
        <div class="intro-message">HELLO THERE! I'M SO GLAD YOU DROPPED BY

THIS IS WHERE YOU'LL GET TO KNOW A LITTLE MORE ABOUT ME  ESPECIALLY MY HOBBIES, AND MY FAVORITES.

FEEL FREE TO EXPLORE, AND ENJOY YOUR STAY!
        
            !KIDLY ROTATE YOUR PHONE TO LANDSCAPE, FOR BETTER EXPERIENCE!</div>
        <button id="introSkip" class="intro-skip" title="Skip">Skip</button>
    </div>

    <!-- About Me Modal -->
    <div class="modal-overlay" id="aboutModal">
        <div class="modal-box modal-about">
            <button class="close-button" onclick="closeModal('about')" title="Close"></button>
            <h1 class="modal-title">About Me</h1>
            <div class="modal-content">
                <div class="info-item name-item">
                    <div class="info-label name-with-button">
                        <span>Personal Details</span>
                        <button id="personalToggleBtn" class="info-toggle-button" title="Toggle access"></button>
                    </div>
                </div>
                <div class="access-gate" id="personalAccessGate">
                    <div class="access-gate-title">YOU CANNOT ACCESS THE PERSONAL DETAILS!</div>
                    <div class="access-gate-msg">
                        Want to access personal details?
                        <span class="access-gate-link" id="showOtpLink">Click here</span>
                    </div>
                    <div class="otp-container" id="otpContainer">
                        <input
                            id="otpInput"
                            class="otp-input"
                            type="text"
                            inputmode="numeric"
                            pattern="[0-9]*"
                            autocomplete="one-time-code"
                            placeholder="Enter one-time PIN"
                            maxlength="4"
                        />
                        <button class="otp-submit" id="otpSubmit">Submit</button>
                        <div class="otp-feedback" id="otpFeedback"></div>
                    </div>
                </div>
                <div class="personal-info-box" id="personalInfoBox">
                    <div class="personal-info-container">
                        <div class="info-item">
                            <div class="info-label">Name</div>
                            <div class="info-value">Leo Paul Yamaguchi</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Age</div>
                            <div class="info-value">17 Years Old</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Birth Date</div>
                            <div class="info-value">March 15, 2008</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Birthplace</div>
                            <div class="info-value">Dr. Rafael S. Tumbukon Memorial Hospital</div>
                        </div>
                    </div>
                </div>
                <div class="message-for-me-box" id="messageForMeBox">
                    <div class="personal-info-container">
                        <div class="christmas-message-link-wrapper" id="christmasLinkWrapperAboutMe">
                            <div class="christmas-message-link" onclick="openModal('christmasMessage')">
                                MESSAGE FOR ME
                            </div>
                        </div>
                    </div>
                </div>
                <div class="info-item hobbies-item">
                    <div class="info-label hobbies-with-button">
                        <span>Hobbies</span>
                        <button class="info-toggle-button" onclick="toggleHobbies()" title="Click to view hobbies"></button>
                    </div>
                </div>
                <div class="hobbies-box" id="hobbiesBox">
                    <div class="personal-info-container">
                        <div class="info-item">
                            <div class="info-value">Playing Online Games</div>
                        </div>
                        <div class="info-item">
                            <div class="info-value">Listening to Music</div>
                        </div>
                    </div>
                </div>
                <div class="info-item favorites-item">
                    <div class="info-label favorites-with-button">
                        <span>My Favorites</span>
                        <button class="info-toggle-button" onclick="toggleAboutFavorites()" title="Click to view favorites"></button>
                    </div>
                </div>
                <div class="about-favorites-box" id="aboutFavoritesBox">
                    <div class="favorites-topics-container">
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">Cats</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">One of my favorite animals is the cat. I like cats because they are cute, calm, and independent. They don't need too much attention, but they still show love in their own ways. I enjoy watching how playful they can be when they chase toys or roll around. Their soft fur and gentle purring make me feel relaxed whenever I'm near them. Cats also have funny personalities, and that makes me smile every day.</span>
                                <span class="description-full">One of my favorite animals is the cat. I like cats because they are cute, calm, and independent. They don't need too much attention, but they still show love in their own ways. I enjoy watching how playful they can be when they chase toys or roll around. Their soft fur and gentle purring make me feel relaxed whenever I'm near them. Cats also have funny personalities, and that makes me smile every day.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">Music</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">Music is one of the things I can't live without. It helps me express how I feel and comforts me when I'm sad or tired. I like listening to different types of music depending on my mood  sometimes pop when I want to dance, and slow songs when I just want to think. Music inspires me and gives me energy to start my day. It's like my best friend that always understands me.</span>
                                <span class="description-full">Music is one of the things I can't live without. It helps me express how I feel and comforts me when I'm sad or tired. I like listening to different types of music depending on my mood  sometimes pop when I want to dance, and slow songs when I just want to think. Music inspires me and gives me energy to start my day. It's like my best friend that always understands me.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">Sunsets</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">I love watching sunsets because they are peaceful and beautiful. When the sky turns orange, pink, and purple, it feels like the world slows down for a moment. It reminds me to appreciate life and be thankful for another day. Watching a sunset makes me calm and helps me forget my worries. It's one of those simple things that make me feel happy inside.</span>
                                <span class="description-full">I love watching sunsets because they are peaceful and beautiful. When the sky turns orange, pink, and purple, it feels like the world slows down for a moment. It reminds me to appreciate life and be thankful for another day. Watching a sunset makes me calm and helps me forget my worries. It's one of those simple things that make me feel happy inside.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">Foods</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">When it comes to food, I have quite a sweet and simple taste. I love chocolate because it melts in my mouth and instantly makes me feel happy. Spaghetti is my favorite meal because it's flavorful and comforting  I especially like it when it's cooked with a sweet-style sauce. And marshmallows? They're soft, sweet, and fun to eat, especially when roasted or mixed with chocolate. These foods remind me of celebrations, bonding, and happy moments with friends and family.</span>
                                <span class="description-full">When it comes to food, I have quite a sweet and simple taste. I love chocolate because it melts in my mouth and instantly makes me feel happy. Spaghetti is my favorite meal because it's flavorful and comforting  I especially like it when it's cooked with a sweet-style sauce. And marshmallows? They're soft, sweet, and fun to eat, especially when roasted or mixed with chocolate. These foods remind me of celebrations, bonding, and happy moments with friends and family.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">My Friends</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">My friends are also one of my favorites because they make my life more colorful and fun. They're always there when I need someone to talk to or laugh with. I like being surrounded by people who understand and support me no matter what. My friends motivate me to be better and remind me that I'm never alone in facing challenges.</span>
                                <span class="description-full">My friends are also one of my favorites because they make my life more colorful and fun. They're always there when I need someone to talk to or laugh with. I like being surrounded by people who understand and support me no matter what. My friends motivate me to be better and remind me that I'm never alone in facing challenges.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">Movies</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">I enjoy watching movies and shows that make me laugh, feel inspired, or even emotional. Some of my favorites are Minions and Doraemon because they're funny, cute, and full of good lessons about friendship and kindness. I also like watching BL (Boys' Love) series because they show different kinds of love and teach acceptance, equality, and respect for the LGBTQIA+ community. I admire how these stories show that love is love  no matter who you are.</span>
                                <span class="description-full">I enjoy watching movies and shows that make me laugh, feel inspired, or even emotional. Some of my favorites are Minions and Doraemon because they're funny, cute, and full of good lessons about friendship and kindness. I also like watching BL (Boys' Love) series because they show different kinds of love and teach acceptance, equality, and respect for the LGBTQIA+ community. I admire how these stories show that love is love  no matter who you are.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">Social Media</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">Social media is one of my favorites because it allows me to communicate, share, and learn from different people around the world. I enjoy using various platforms where I can express myself creatively and stay informed about current events.</span>
                                <span class="description-full">Social media is one of my favorites because it allows me to communicate, share, and learn from different people around the world. I enjoy using various platforms where I can express myself creatively and stay informed about current events. Through these platforms, I can connect with my family and friends, explore new ideas, and discover trends that match my interests. Social media also helps me stay updated with technology, entertainment, and news while providing a space to appreciate art, culture, and diverse communities. It is important in my daily life because it combines communication, learning, and self-expression in one digital environment.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                        <div class="favorite-topic-box">
                            <div class="favorite-topic-header">
                                <span class="favorite-topic-emoji"></span>
                                <span class="favorite-topic-title">Why I Chose IT?</span>
                            </div>
                            <div class="favorite-topic-description">
                                <span class="description-short">I chose Information Technology (IT) because I've always been interested in computers and how technology works. I want to learn how to create programs, fix problems, and use technology to make life easier for people. I believe IT has a big role in the future, and being part of it makes me excited. I know it won't always be easy, but I'm ready to face the challenges because it's something I'm truly passionate about.</span>
                                <span class="description-full">I chose Information Technology (IT) because I've always been interested in computers and how technology works. I want to learn how to create programs, fix problems, and use technology to make life easier for people. I believe IT has a big role in the future, and being part of it makes me excited. I know it won't always be easy, but I'm ready to face the challenges because it's something I'm truly passionate about.</span>
                                <span class="see-more-link" onclick="toggleDescription(this)">see more...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="back-button-box">
                    <button class="modal-action-button btn-back small-button" onclick="closeModal('about')">Back to Main Menu</button>
                    <button class="modal-action-button btn-exit small-button" onclick="exitPage()">Exit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- My Favorites Modal -->
    <div class="modal-overlay" id="favoritesModal">
        <div class="modal-box modal-favorites">
            <button class="close-button" onclick="closeModal('favorites')" title="Close"></button>
            <div class="modal-content">
                <h2 style="text-align: center; font-size: 32px; margin-bottom: 30px; color: #333; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">My Favorites</h2>
                <div class="favorites-grid">
                    <div class="favorite-card clickable" onclick="openModal('gaming')">
                        <div class="favorite-icon"></div>
                        <div class="favorite-title">Gaming</div>
                        <div class="favorite-description">When i got so bored, i play this games.</div>
                    </div>
                    <div class="favorite-card clickable" onclick="openModal('music')">
                        <div class="favorite-icon"></div>
                        <div class="favorite-title">Music</div>
                        <div class="favorite-description">When I'm sleeping, eating, walking, etc., I play this music.</div>
                    </div>
                    <div class="favorite-card clickable" onclick="openModal('singer')">
                        <div class="favorite-icon"></div>
                        <div class="favorite-title">SINGER</div>
                        <div class="favorite-description">i can't live without my fav singers.</div>
                    </div>
                    <div class="favorite-card clickable" id="myAppsCard" onclick="openModal('myApps')">
                        <div class="favorite-icon"></div>
                        <div class="favorite-title">My Apps</div>
                        <div class="favorite-description">This is my apps that i created right now</div>
                    </div>
                </div>
                <div id="christmasMessageDisplay" style="display:none; margin-top: 30px; padding: 20px; background: #fff5f5; border-radius: 12px; border: 2px solid #ffcdd2;">
                    <h3 style="text-align: center; color: #b71c1c; margin-bottom: 15px;">Your Christmas Message</h3>
                    <div id="userChristmasMessage" class="christmas-message-display" style="min-height: 100px; max-height: 300px;"></div>
                </div>
                <div class="modal-buttons">
                    <button class="modal-action-button btn-back" onclick="closeModal('favorites')">Back to Main Menu</button>
                    <button class="modal-action-button btn-exit" onclick="exitPage()">Exit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Gaming Modal -->
    <div class="modal-overlay" id="gamingModal" onclick="closeModalOnOverlay(event, 'gaming')">
        <div class="modal-box modal-gaming">
            <button class="close-button-left" onclick="closeModal('gaming')" title="Close"></button>
            <h1 class="modal-title">Gaming</h1>
            <div class="modal-content">
                <div class="info-item">
                    <div class="info-label">MOBILE LEGENDS: BANG BANG</div>
                    <div class="info-value">
                        <a href="https://play.google.com/store/apps/details?id=com.mobile.legends&pcampaignid=web_share" target="_blank" class="gaming-link-button">Click Me</a>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-label">ROBLOX</div>
                    <div class="info-value">
                        <a href="https://play.google.com/store/apps/details?id=com.roblox.client&pcampaignid=web_share" target="_blank" class="gaming-link-button">Click Me</a>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button class="modal-action-button btn-exit" onclick="exitPage()">Exit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- My Apps Modal -->
    <div class="modal-overlay" id="myAppsModal" onclick="closeModalOnOverlay(event, 'myApps')">
        <div class="modal-box modal-myapps">
            <button class="close-button" onclick="closeModal('myApps')" title="Close"></button>
            <h1 class="modal-title">My Apps</h1>
            <div class="modal-content">
                <p class="modal-text">This is my apps that i created right now</p>
                <div class="myapps-app-box" onclick="closeModal('myApps'); openModal('calculator');" title="Open Calculator">
                    <span class="myapps-app-emoji"></span>
                    <span class="myapps-app-label">Calculator</span>
                </div>
                <div class="modal-buttons">
                    <button class="modal-action-button btn-back" onclick="closeModal('myApps')">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Calculator Modal: put calculator.html in same folder as index.html -->
    <div class="modal-overlay" id="calculatorModal" onclick="closeModalOnOverlay(event, 'calculator')">
        <div class="modal-box modal-calculator" onclick="event.stopPropagation()">
            <div class="modal-content modal-calculator-content">
                <button type="button" class="calculator-close-btn" onclick="closeModal('calculator')" title="Close"></button>
                <iframe src="calculator.html" class="calculator-iframe" title="Scientific Calculator"></iframe>
            </div>
        </div>
    </div>

    <!-- Music Modal -->
    <div class="modal-overlay" id="musicModal">
        <div class="modal-box modal-music">
            <button class="close-button-left" onclick="closeModal('music')" title="Close"></button>
            <button class="music-info-button" onclick="toggleDisclaimer()" title="Disclaimer">!</button>
            <div class="music-disclaimer-box" id="musicDisclaimer">
                <p>I DON'T OWN THE RIGHTS TO THE MUSIC USED HERE. ALL CREDITS AND RIGHTS TO THE RESPECTIVE ARTISTS AND COPYRIGHT HOLDERS. SHARED PURELY FOR APPRECIATION AND INSPIRATION.</p>
                <button class="disclaimer-button" onclick="toggleDisclaimer()">Understood</button>
            </div>
            <h1 class="modal-title">Music</h1>
            <div style="text-align: center; font-style: italic; font-size: 14px; color: #555; margin-bottom: 8px;">My Top 23 Songs</div>
            <div class="modal-content">
                <div class="music-list">
                    <div class="info-item song-item">
                        <div class="info-label">SABRINA CARPENTER - WHEN DID YOU GET HOT</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('sabrina', 5)">+5s</button>
                                    <button class="play-button" data-song="sabrina" onclick="toggleMusic('sabrina')"></button>
                                    <button class="music-control-button" onclick="skipMusic('sabrina', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('sabrina')"></button>
                                </div>
                                <audio id="musicPlayer-sabrina" preload="metadata" controls style="display: none;">
                                    <source src="Sabrina Carpenter - When Did You Get Hot_ (Lyrics).mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-sabrina">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-sabrina"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-sabrina">0:00</span>
                                        <span id="totalTime-sabrina">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">ARIANA GRANDE - POSITIONS</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('positions', 5)">+5s</button>
                                    <button class="play-button" data-song="positions" onclick="toggleMusic('positions')"></button>
                                    <button class="music-control-button" onclick="skipMusic('positions', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('positions')"></button>
                                </div>
                                <audio id="musicPlayer-positions" preload="metadata" controls style="display: none;">
                                    <source src="Ariana Grande - positions (Lyrics).mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-positions">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-positions"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-positions">0:00</span>
                                        <span id="totalTime-positions">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- New Ariana songs above Break Free -->
                    <div class="info-item song-item">
                        <div class="info-label">ARIANA GRANDE - GOODNIGHT N GO</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('goodnightngo', 5)">+5s</button>
                                    <button class="play-button" data-song="goodnightngo" onclick="toggleMusic('goodnightngo')"></button>
                                    <button class="music-control-button" onclick="skipMusic('goodnightngo', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('goodnightngo')"></button>
                                </div>
                                <audio id="musicPlayer-goodnightngo" preload="metadata" controls style="display: none;">
                                    <source src="Ariana Grande - goodnight n go.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-goodnightngo">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-goodnightngo"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-goodnightngo">0:00</span>
                                        <span id="totalTime-goodnightngo">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">ARIANA GRANDE - INTRO ( EXTENDED )</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('ariintro', 5)">+5s</button>
                                    <button class="play-button" data-song="ariintro" onclick="toggleMusic('ariintro')"></button>
                                    <button class="music-control-button" onclick="skipMusic('ariintro', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('ariintro')"></button>
                                </div>
                                <audio id="musicPlayer-ariintro" preload="metadata" controls style="display: none;">
                                    <source src="Ariana Grande - intro (extended).mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-ariintro">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-ariintro"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-ariintro">0:00</span>
                                        <span id="totalTime-ariintro">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">ARIANA GRANDE - PAST LIFE</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('aripastlife', 5)">+5s</button>
                                    <button class="play-button" data-song="aripastlife" onclick="toggleMusic('aripastlife')"></button>
                                    <button class="music-control-button" onclick="skipMusic('aripastlife', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('aripastlife')"></button>
                                </div>
                                <audio id="musicPlayer-aripastlife" preload="metadata" controls style="display: none;">
                                    <source src="Ariana Grande - past life.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-aripastlife">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-aripastlife"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-aripastlife">0:00</span>
                                        <span id="totalTime-aripastlife">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">ARIANA GRANDE &amp; SOCIAL HOUSE - BOYFRIEND</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('ariboyfriend', 5)">+5s</button>
                                    <button class="play-button" data-song="ariboyfriend" onclick="toggleMusic('ariboyfriend')"></button>
                                    <button class="music-control-button" onclick="skipMusic('ariboyfriend', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('ariboyfriend')"></button>
                                </div>
                                <audio id="musicPlayer-ariboyfriend" preload="metadata" controls style="display: none;">
                                    <source src="Ariana Grande & Social House - boyfriend.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-ariboyfriend">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-ariboyfriend"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-ariboyfriend">0:00</span>
                                        <span id="totalTime-ariboyfriend">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">ARIANA GRANDE - BREAK FREE</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('breakfree', 5)">+5s</button>
                                    <button class="play-button" data-song="breakfree" onclick="toggleMusic('breakfree')"></button>
                                    <button class="music-control-button" onclick="skipMusic('breakfree', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('breakfree')"></button>
                                </div>
                                <audio id="musicPlayer-breakfree" preload="metadata" controls style="display: none;">
                                    <source src="Ariana Grande - Break Free (Lyrics).mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-breakfree">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-breakfree"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-breakfree">0:00</span>
                                        <span id="totalTime-breakfree">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">TAYLOR SWIFT - OPALITE</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('opalite', 5)">+5s</button>
                                    <button class="play-button" data-song="opalite" onclick="toggleMusic('opalite')"></button>
                                    <button class="music-control-button" onclick="skipMusic('opalite', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('opalite')"></button>
                                </div>
                                <audio id="musicPlayer-opalite" preload="metadata" controls style="display: none;">
                                    <source src="Taylor Swift - Opalite (Lyrics).mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-opalite">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-opalite"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-opalite">0:00</span>
                                        <span id="totalTime-opalite">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- New Taylor songs above The Fate of Ophelia -->
                    <div class="info-item song-item">
                        <div class="info-label">TAYLOR SWIFT - BLANK SPACE</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('blankspace', 5)">+5s</button>
                                    <button class="play-button" data-song="blankspace" onclick="toggleMusic('blankspace')"></button>
                                    <button class="music-control-button" onclick="skipMusic('blankspace', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('blankspace')"></button>
                                </div>
                                <audio id="musicPlayer-blankspace" preload="metadata" controls style="display: none;">
                                    <source src="Taylor Swift - Blank Space.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-blankspace">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-blankspace"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-blankspace">0:00</span>
                                        <span id="totalTime-blankspace">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">TAYLOR SWIFT - SLUT!</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('slut', 5)">+5s</button>
                                    <button class="play-button" data-song="slut" onclick="toggleMusic('slut')"></button>
                                    <button class="music-control-button" onclick="skipMusic('slut', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('slut')"></button>
                                </div>
                                <audio id="musicPlayer-slut" preload="metadata" controls style="display: none;">
                                    <source src="Taylor Swift - Slut!.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-slut">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-slut"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-slut">0:00</span>
                                        <span id="totalTime-slut">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">TAYLOR SWIFT - THE FATE OF OPHELIA</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('opheila', 5)">+5s</button>
                                    <button class="play-button" data-song="opheila" onclick="toggleMusic('opheila')"></button>
                                    <button class="music-control-button" onclick="skipMusic('opheila', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('opheila')"></button>
                                </div>
                                <audio id="musicPlayer-opheila" preload="metadata" controls style="display: none;">
                                    <source src="Taylor Swift - The Fate of Ophelia.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-opheila">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-opheila"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-opheila">0:00</span>
                                        <span id="totalTime-opheila">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">THE WEEKND - IS THERE SOMEONE ELSE</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('weeknd', 5)">+5s</button>
                                    <button class="play-button" data-song="weeknd" onclick="toggleMusic('weeknd')"></button>
                                    <button class="music-control-button" onclick="skipMusic('weeknd', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('weeknd')"></button>
                                </div>
                                <audio id="musicPlayer-weeknd" preload="metadata" controls style="display: none;">
                                    <source src="The Weeknd - Is There Someone Else_ (Audio).mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-weeknd">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-weeknd"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-weeknd">0:00</span>
                                        <span id="totalTime-weeknd">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">YENG CONSTANTINO - COOL OFF</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('cooloff', 5)">+5s</button>
                                    <button class="play-button" data-song="cooloff" onclick="toggleMusic('cooloff')"></button>
                                    <button class="music-control-button" onclick="skipMusic('cooloff', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('cooloff')"></button>
                                </div>
                                <audio id="musicPlayer-cooloff" preload="metadata" controls style="display: none;">
                                    <source src="Cool Off - Yeng Constantino (Lyrics).mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-cooloff">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-cooloff"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-cooloff">0:00</span>
                                        <span id="totalTime-cooloff">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Inserted new songs before Justin Bieber - Confident -->
                    <div class="info-item song-item">
                        <div class="info-label">BILLIE EILISH - HAPPIER THAN EVER</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('happierthanever', 5)">+5s</button>
                                    <button class="play-button" data-song="happierthanever" onclick="toggleMusic('happierthanever')"></button>
                                    <button class="music-control-button" onclick="skipMusic('happierthanever', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('happierthanever')"></button>
                                </div>
                                <audio id="musicPlayer-happierthanever" preload="metadata" controls style="display: none;">
                                    <source src="Billie Eilish - Happier Than Ever.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-happierthanever">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-happierthanever"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-happierthanever">0:00</span>
                                        <span id="totalTime-happierthanever">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">WAVE TO EARTH - LOVE.</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('wavetolove', 5)">+5s</button>
                                    <button class="play-button" data-song="wavetolove" onclick="toggleMusic('wavetolove')"></button>
                                    <button class="music-control-button" onclick="skipMusic('wavetolove', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('wavetolove')"></button>
                                </div>
                                <audio id="musicPlayer-wavetolove" preload="metadata" controls style="display: none;">
                                    <source src="wave to earth - love..mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-wavetolove">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-wavetolove"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-wavetolove">0:00</span>
                                        <span id="totalTime-wavetolove">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">LANY - SUPER FAR</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('superfar', 5)">+5s</button>
                                    <button class="play-button" data-song="superfar" onclick="toggleMusic('superfar')"></button>
                                    <button class="music-control-button" onclick="skipMusic('superfar', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('superfar')"></button>
                                </div>
                                <audio id="musicPlayer-superfar" preload="metadata" controls style="display: none;">
                                    <source src="LANY - Super Far.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-superfar">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-superfar"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-superfar">0:00</span>
                                        <span id="totalTime-superfar">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">NIKI - BACKBURNER</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('backburner', 5)">+5s</button>
                                    <button class="play-button" data-song="backburner" onclick="toggleMusic('backburner')"></button>
                                    <button class="music-control-button" onclick="skipMusic('backburner', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('backburner')"></button>
                                </div>
                                <audio id="musicPlayer-backburner" preload="metadata" controls style="display: none;">
                                    <source src="NIKI - Backburner.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-backburner">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-backburner"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-backburner">0:00</span>
                                        <span id="totalTime-backburner">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">THE 1975 - ABOUT YOU</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('aboutyou', 5)">+5s</button>
                                    <button class="play-button" data-song="aboutyou" onclick="toggleMusic('aboutyou')"></button>
                                    <button class="music-control-button" onclick="skipMusic('aboutyou', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('aboutyou')"></button>
                                </div>
                                <audio id="musicPlayer-aboutyou" preload="metadata" controls style="display: none;">
                                    <source src="The 1975 - About You.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-aboutyou">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-aboutyou"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-aboutyou">0:00</span>
                                        <span id="totalTime-aboutyou">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">CHARLI XCX - 360</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('charli360', 5)">+5s</button>
                                    <button class="play-button" data-song="charli360" onclick="toggleMusic('charli360')"></button>
                                    <button class="music-control-button" onclick="skipMusic('charli360', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('charli360')"></button>
                                </div>
                                <audio id="musicPlayer-charli360" preload="metadata" controls style="display: none;">
                                    <source src="Charli XCX - 360.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-charli360">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-charli360"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-charli360">0:00</span>
                                        <span id="totalTime-charli360">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">CALEIN - ORAS</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('oras', 5)">+5s</button>
                                    <button class="play-button" data-song="oras" onclick="toggleMusic('oras')"></button>
                                    <button class="music-control-button" onclick="skipMusic('oras', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('oras')"></button>
                                </div>
                                <audio id="musicPlayer-oras" preload="metadata" controls style="display: none;">
                                    <source src="Calein - Oras.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-oras">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-oras"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-oras">0:00</span>
                                        <span id="totalTime-oras">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">LE JOHN - NAIILANG</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('nailang', 5)">+5s</button>
                                    <button class="play-button" data-song="nailang" onclick="toggleMusic('nailang')"></button>
                                    <button class="music-control-button" onclick="skipMusic('nailang', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('nailang')"></button>
                                </div>
                                <audio id="musicPlayer-nailang" preload="metadata" controls style="display: none;">
                                    <source src="Le John - Naiilang.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-nailang">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-nailang"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-nailang">0:00</span>
                                        <span id="totalTime-nailang">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">CUP OF JOE - MULTO</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('multo', 5)">+5s</button>
                                    <button class="play-button" data-song="multo" onclick="toggleMusic('multo')"></button>
                                    <button class="music-control-button" onclick="skipMusic('multo', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('multo')"></button>
                                </div>
                                <audio id="musicPlayer-multo" preload="metadata" controls style="display: none;">
                                    <source src="Cup of Joe - Multo.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-multo">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-multo"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-multo">0:00</span>
                                        <span id="totalTime-multo">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-item song-item">
                        <div class="info-label">JUSTIN BIEBER - CONFIDENT</div>
                        <div class="info-value">
                            <div class="music-player-container">
                                <div class="song-controls">
                                    <button class="music-control-button" onclick="skipMusic('confident', 5)">+5s</button>
                                    <button class="play-button" data-song="confident" onclick="toggleMusic('confident')"></button>
                                    <button class="music-control-button" onclick="skipMusic('confident', -5)">-5s</button>
                                    <button class="music-control-button" onclick="restartMusic('confident')"></button>
                                </div>
                                <audio id="musicPlayer-confident" preload="metadata" controls style="display: none;">
                                    <source src="Justin Bieber - Confident (Lyrics) she said its her first time.mp3" type="audio/mpeg">
                                </audio>
                                <div class="music-progress-container" id="musicProgressContainer-confident">
                                    <div class="music-progress-bar-wrapper">
                                        <div class="music-progress-bar" id="musicProgressBar-confident"></div>
                                    </div>
                                    <div class="music-time">
                                        <span id="currentTime-confident">0:00</span>
                                        <span id="totalTime-confident">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button class="modal-action-button btn-exit" onclick="exitPage()">Exit</button>
                </div>
            </div>
        </div>
    </div>
   
    <!-- Christmas Message Modal -->
    <div class="modal-overlay" id="christmasMessageModal" onclick="closeModalOnOverlay(event, 'christmasMessage')">
        <div class="christmas-modal-box">
            <button class="close-button" onclick="closeModal('christmasMessage')" title="Close"></button>
            <div class="christmas-modal-title">
                <span class="christmas-warning-btn" onclick="toggleChristmasWarning(event); event.stopPropagation();">!</span>
                MESSAG<span class="clickable-e" onclick="christmasEClickHandler();">E</span> FOR ME
            </div>
            <textarea
                id="christmasMessageInput"
                class="christmas-textarea"
                placeholder="Insert message here"
                oninput="handleChristmasMessageInput()"
            ></textarea>
            <div class="christmas-counter-row">
                <span>Letter Limit: 1000</span>
                <span id="christmasWordCounter" class="christmas-word-counter">0 / 1000</span>
            </div>
            <button type="button" class="christmas-submit-btn" onclick="submitChristmasMessage()">Submit</button>
            <button type="button" id="christmasViewBtn" class="christmas-view-btn" onclick="viewLatestChristmasMessage()">
                VIEW YOUR MESSAGE
            </button>
            <div id="christmasViewArea" class="christmas-message-display" style="margin-top:12px; display:none; position: relative;">
                <div id="christmasMessageContent"></div>
            </div>
        </div>
    </div>

    <!-- All Messages Modal (accessed via E click) -->
    <div class="modal-overlay" id="allMessagesModal" onclick="closeModalOnOverlay(event, 'allMessages')">
        <div class="christmas-modal-box">
            <button class="close-button" onclick="closeModal('allMessages')" title="Close"></button>
            <div class="christmas-modal-title">ALL MESSAGES</div>
            <div id="allMessagesContent" class="christmas-messages-list" style="max-height: 60vh; overflow-y: auto;"></div>
        </div>
    </div>

    <!-- Updates Modal -->
    <div class="modal-overlay" id="updatesModal" onclick="closeModalOnOverlay(event, 'updates')">
        <div class="modal-box modal-updates">
            <button class="close-button-left" onclick="closeModal('updates')" title="Close"></button>
            <div class="modal-content">
                <h2 style="text-align: center; font-size: 28px; margin-bottom: 20px; color: #333; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">WHAT'S NEW</h2>
                <div class="updates-scroll-body">
                    <p style="margin-top: 20px;"><strong>UPDATE 1</strong></p>
                    <p id="update1-summary" style="margin-bottom: 8px;">
                        UI REFORGE + MUSIC SYSTEM UPGRADE
                        <span id="update1-toggle-top" class="see-more-link" onclick="toggleUpdateDetails()">see more...</span>
                    </p>
                    <div id="update1-details" style="display:none; margin-bottom: 15px;">
                        <p><strong> Loading Screen</strong></p>
                        <p> Moved percentage text below "Loading"</p>
                        <p> Added rotating smart messages (show once per session)</p>
                        
                        <p style="margin-top: 20px;"><strong> Music Player Update</strong></p>
                        <p>Unified play/pause logic for smoother switching</p>
                        <p>Added -5s / +5s skip buttons</p>
                        <p>Loop & Repeat now use class-based toggle animations</p>
                        <p>Draggable, touch-friendly progress bar</p>
                        <p>Active song highlight improved</p>
                        
                        <p style="margin-top: 20px;"><strong> Modal Upgrade (Mobile & Desktop)</strong></p>
                        <p>Mobile landscape = fullscreen, no border-radius</p>
                        <p>Desktop modal width refined</p>
                        <p>Blur/shadow improved</p>
                        <p>Close buttons repositioned</p>
                        <p>Smoother internal scrolling</p>
                        
                        <p style="margin-top: 20px;"><strong> "!" Button Enhancement</strong></p>
                        <p>Turns red + performs a one-time rotation</p>
                        <p>Animation fully resets when modal closes</p>
                        <p>Faster activation response</p>
                        
                        <p style="margin-top: 20px;"><strong> Layout & Styling</strong></p>
                        <p>Improved spacing for all button groups</p>
                        <p>Unified padding across modals</p>
                        <p>Better responsive fonts</p>
                        <p>Cleaner progress bar visuals</p>
                        <p>Consistent hover/active states</p>
                        
                        <p style="margin-top: 20px;"><strong> JavaScript Improvements</strong></p>
                        <p>Centralized modal logic</p>
                        <p>Optimized music control functions</p>
                        <p>Touch scrubbing support</p>
                        <p>Cleaner event listeners</p>
                        <p>Removed redundant state resets</p>
                        
                        <p style="margin-top: 20px;"><strong> Fixes, Changes & QOL</strong></p>
                        <p>Fixed modal overflow on small screens</p>
                        <p>Fixed audio desync on song change</p>
                        <p>Removed unused CSS</p>
                        <p>Improved volume consistency</p>
                        <p>Minor UI glitch fixes</p>
                        <p>Overall performance improvements
                            <span id="update1-toggle-bottom" class="see-more-link" onclick="toggleUpdateDetails()">see less...</span>
                        </p>
                    </div>

                    <p style="margin-top: 20px;"><strong>UPDATE 1.1 [FIXED]</strong></p>
                    <p id="update11-summary" style="font-style: italic; font-size: 16px; margin-bottom: 10px; color: #555;">
                        These fixes are now applied in this version
                        <span id="update11-toggle-top" class="see-more-link" onclick="toggleUpdate11Details()">see more...</span>
                    </p>
                    <div id="update11-details" style="display:none; margin-bottom: 10px;">
                        <p>Fixed the blue button, because it's too big</p>
                        <p>Fixed the title Facebook, Instagram, etc. so it is no longer clickable and is displayed as plain text</p>
                        <p>Fixed the scrolling effect on Songs and What's New because it wasn't supposed to scroll that way</p>
                        <p>Overall improvements and small fixes have been applied
                            <span id="update11-toggle-bottom" class="see-more-link" onclick="toggleUpdate11Details()">see less...</span>
                        </p>
                    </div>

                    <p style="margin-top: 20px;"><strong> BUGS AND ERRORS</strong></p>
                    <P>My sincerely apologies for the errors and bugs. I'm currently working on fixing them.</p>
                    <p>It's just a bit difficult since I have school and we have our research defense going on right now, but I will fix everything as soon as I'm free again.</p>
                    <p></p>Thank you for understanding and see you soon...</p>

                    <p style="margin-top: 20px;"><strong> Your Response</strong></p>
                    <p>I received you all response on my form and most of it i applied it here</p>
                    <p>Thank you so much for taking the time answering the form</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Singer Modal -->
    <div class="modal-overlay" id="singerModal" onclick="closeModalOnOverlay(event, 'singer')">
        <div class="modal-box modal-singer">
            <button class="close-button-left" onclick="closeModal('singer')" title="Close"></button>
            <div class="modal-content">
                <h2 style="text-align: center; font-size: 32px; margin-bottom: 30px; color: #333; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">SINGER</h2>
                <div class="singer-modal-content">
                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: #333;">Sabrina Carpenter</h3>
                        <p style="font-style: italic; font-size: 16px; margin-bottom: 15px; color: #555;">I like Sabrina because she's talented, inspiring, and her music is full of joy.</p>
                        <div class="singer-social-list">
                            <p class="social-link">
                                <span class="social-label">Facebook:</span>
                                <a href="https://www.facebook.com/sabrinacarpenter" target="_blank" rel="noopener noreferrer">https://www.facebook.com/sabrinacarpenter</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Instagram:</span>
                                <a href="https://www.instagram.com/sabrinacarpenter?igsh=MWFiZ2dkMWRhbnF2MQ==" target="_blank" rel="noopener noreferrer">https://www.instagram.com/sabrinacarpenter?igsh=MWFiZ2dkMWRhbnF2MQ==</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Tiktok:</span>
                                <a href="https://www.tiktok.com/@sabrinacarpenter?_r=1&_t=ZS-91chUYgCmkZ" target="_blank" rel="noopener noreferrer">https://www.tiktok.com/@sabrinacarpenter?_r=1&_t=ZS-91chUYgCmkZ</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Youtube:</span>
                                <a href="https://youtube.com/@sabrinacarpenter?si=uLKDOthydUEtEs8N" target="_blank" rel="noopener noreferrer">https://youtube.com/@sabrinacarpenter?si=uLKDOthydUEtEs8N</a>
                            </p>
                        </div>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: #333;">Taylor Swift</h3>
                        <p style="font-style: italic; font-size: 16px; margin-bottom: 15px; color: #555;">I like Taylor because her songs tell stories that feel like they understand me</p>
                        <div class="singer-social-list">
                            <p class="social-link">
                                <span class="social-label">Facebook:</span>
                                <a href="https://www.facebook.com/TaylorSwift" target="_blank" rel="noopener noreferrer">https://www.facebook.com/TaylorSwift</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Instagram:</span>
                                <a href="https://www.instagram.com/taylorswift?igsh=czY3azdjMmhobDNr" target="_blank" rel="noopener noreferrer">https://www.instagram.com/taylorswift?igsh=czY3azdjMmhobDNr</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Tiktok:</span>
                                <a href="https://www.tiktok.com/@taylorswift?_r=1&_t=ZS-91chQXElUYM" target="_blank" rel="noopener noreferrer">https://www.tiktok.com/@taylorswift?_r=1&_t=ZS-91chQXElUYM</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Youtube:</span>
                                <a href="https://youtube.com/@taylorswift?si=hDhx7neEDQb_UKO7" target="_blank" rel="noopener noreferrer">https://youtube.com/@taylorswift?si=hDhx7neEDQb_UKO7</a>
                            </p>
                        </div>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: #333;">Ariana Grande</h3>
                        <p style="font-style: italic; font-size: 16px; margin-bottom: 15px; color: #555;">I like Ariana because her voice is so powerful and sweet, it makes me happy every time I listen.</p>
                        <div class="singer-social-list">
                            <p class="social-link">
                                <span class="social-label">Facebook:</span>
                                <a href="https://www.facebook.com/arianagrande" target="_blank" rel="noopener noreferrer">https://www.facebook.com/arianagrande</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Instagram:</span>
                                <a href="https://www.instagram.com/arianagrande?igsh=bm82aXlhYjZ3bWo3" target="_blank" rel="noopener noreferrer">https://www.instagram.com/arianagrande?igsh=bm82aXlhYjZ3bWo3</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Tiktok:</span>
                                <a href="https://www.tiktok.com/@arianagrande?_r=1&_t=ZS-91chLckaoZG" target="_blank" rel="noopener noreferrer">https://www.tiktok.com/@arianagrande?_r=1&_t=ZS-91chLckaoZG</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Youtube:</span>
                                <a href="https://youtube.com/@arianagrande?si=1g0w6hb84A4qnj_4" target="_blank" rel="noopener noreferrer">https://youtube.com/@arianagrande?si=1g0w6hb84A4qnj_4</a>
                            </p>
                        </div>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: #333;">The Weeknd</h3>
                        <p style="font-style: italic; font-size: 16px; margin-bottom: 15px; color: #555;">I like The Weeknd because his music is dark, emotional, and unforgettable.</p>
                        <div class="singer-social-list">
                            <p class="social-link">
                                <span class="social-label">Facebook:</span>
                                <a href="https://www.facebook.com/theweeknd" target="_blank" rel="noopener noreferrer">https://www.facebook.com/theweeknd</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Instagram:</span>
                                <a href="https://www.instagram.com/theweeknd?igsh=cDlheDBpMTB0bzdk" target="_blank" rel="noopener noreferrer">https://www.instagram.com/theweeknd?igsh=cDlheDBpMTB0bzdk</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Tiktok:</span>
                                <a href="https://www.tiktok.com/@theweeknd?_r=1&_t=ZS-91chUfVhtFI" target="_blank" rel="noopener noreferrer">https://www.tiktok.com/@theweeknd?_r=1&_t=ZS-91chUfVhtFI</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Youtube:</span>
                                <a href="https://youtube.com/@theweeknd?si=2RtKP_rF_aAuZkla" target="_blank" rel="noopener noreferrer">https://youtube.com/@theweeknd?si=2RtKP_rF_aAuZkla</a>
                            </p>
                        </div>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: #333;">Billie Eilish</h3>
                        <p style="font-style: italic; font-size: 16px; margin-bottom: 15px; color: #555;">I like Billie because she's fearless and unique, and her music feels so real.</p>
                        <div class="singer-social-list">
                            <p class="social-link">
                                <span class="social-label">Facebook:</span>
                                <a href="https://www.facebook.com/billieeilish" target="_blank" rel="noopener noreferrer">https://www.facebook.com/billieeilish</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Instagram:</span>
                                <a href="https://www.instagram.com/billieeilish?igsh=dmpmaDlqb2NyY3hn" target="_blank" rel="noopener noreferrer">https://www.instagram.com/billieeilish?igsh=dmpmaDlqb2NyY3hn</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Tiktok:</span>
                                <a href="https://www.tiktok.com/@billieeilish?_r=1&_t=ZS-91chN2nN02q" target="_blank" rel="noopener noreferrer">https://www.tiktok.com/@billieeilish?_r=1&_t=ZS-91chN2nN02q</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Youtube:</span>
                                <a href="https://youtube.com/@billieeilish?si=h5PMfGnHQ6JOGoGt" target="_blank" rel="noopener noreferrer">https://youtube.com/@billieeilish?si=h5PMfGnHQ6JOGoGt</a>
                            </p>
                        </div>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: #333;">Lauv</h3>
                        <p style="font-style: italic; font-size: 16px; margin-bottom: 15px; color: #555;">I like Lauv because his songs make my heart feel warm and hopeful.</p>
                        <div class="singer-social-list">
                            <p class="social-link">
                                <span class="social-label">Facebook:</span>
                                <a href="https://www.facebook.com/lauvsongs" target="_blank" rel="noopener noreferrer">https://www.facebook.com/lauvsongs</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Instagram:</span>
                                <a href="https://www.instagram.com/lauvsongs?igsh=MTEwZzdtbHFld2lydw==" target="_blank" rel="noopener noreferrer">https://www.instagram.com/lauvsongs?igsh=MTEwZzdtbHFld2lydw==</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Tiktok:</span>
                                <a href="https://www.tiktok.com/@lauvsongs?_r=1&_t=ZS-91chVfvU8fv" target="_blank" rel="noopener noreferrer">https://www.tiktok.com/@lauvsongs?_r=1&_t=ZS-91chVfvU8fv</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Youtube:</span>
                                <a href="https://youtube.com/@lauvsongs?si=k68QRD1cqtW7ipjm" target="_blank" rel="noopener noreferrer">https://youtube.com/@lauvsongs?si=k68QRD1cqtW7ipjm</a>
                            </p>
                        </div>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: #333;">Lana Del Rey</h3>
                        <p style="font-style: italic; font-size: 16px; margin-bottom: 15px; color: #555;">I like Lana because her songs feel dreamy and transport me to another world.</p>
                        <div class="singer-social-list">
                            <p class="social-link">
                                <span class="social-label">Facebook:</span>
                                <a href="https://www.facebook.com/lanadelrey" target="_blank" rel="noopener noreferrer">https://www.facebook.com/lanadelrey</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Instagram:</span>
                                <a href="https://www.instagram.com/honeymoon?igsh=MTYwaWNzNHJsOGR5eQ==" target="_blank" rel="noopener noreferrer">https://www.instagram.com/honeymoon?igsh=MTYwaWNzNHJsOGR5eQ==</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Tiktok:</span>
                                <a href="https://www.tiktok.com/@lanadelrey?_r=1&_t=ZS-91chPTeIORO" target="_blank" rel="noopener noreferrer">https://www.tiktok.com/@lanadelrey?_r=1&_t=ZS-91chPTeIORO</a>
                            </p>
                            <p class="social-link">
                                <span class="social-label">Youtube:</span>
                                <a href="https://youtube.com/@lanadelrey?si=SjZQsBZJqPGEWIxA" target="_blank" rel="noopener noreferrer">https://youtube.com/@lanadelrey?si=SjZQsBZJqPGEWIxA</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Unavailable Message Box -->
    <div class="unavailable-overlay" id="unavailableOverlay" onclick="closeUnavailable()"></div>
    <div class="unavailable-message" id="unavailableMessage">
        <div>UNFORTUNATELY UNAVAILABLE AT THIS TIME!</div>
        <button class="unavailable-close" onclick="closeUnavailable()">OK</button>
    </div>

    <script>
        // Loading Screen with Percentage and Progress Bar
        window.addEventListener('load', function() {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingPercentage = document.getElementById('loadingPercentage');
            const progressBar = document.getElementById('progressBar');
            const loadingMessage = document.getElementById('loadingMessage');
            const clickToStartMessage = document.getElementById('clickToStartMessage');
            const loadingText = document.getElementById('loadingText');
            const progressBarWrapper = document.getElementById('progressBarWrapper');
            const duration = 15000; // 15 seconds
            const updateInterval = 30; // Update every 30ms for smooth animation
            const totalSteps = duration / updateInterval;
            let currentStep = 0;
            let loadingStarted = false;
            
            // Function to start loading when clicked
            function startLoading() {
                if (loadingStarted) return;
                loadingStarted = true;
                
                // Hide click to start message
                if (clickToStartMessage) {
                    clickToStartMessage.style.display = 'none';
                }
                
                // Show loading elements
                if (loadingText) loadingText.style.display = 'block';
                if (loadingPercentage) loadingPercentage.style.display = 'block';
                if (progressBarWrapper) progressBarWrapper.style.display = 'block';
                if (loadingMessage) loadingMessage.style.display = 'block';
                
                // Start the loading animation
                startMessageRotation();
                updatePercentage();
            }
            
            // Add click event to loading screen (make sure it works)
            if (loadingScreen) {
                loadingScreen.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    startLoading();
                });
                loadingScreen.style.cursor = 'pointer';
                
                // Also add click to the message itself
                if (clickToStartMessage) {
                    clickToStartMessage.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        startLoading();
                    });
                }
            }
            
            // Also allow keyboard to start loading (press any key)
            document.addEventListener('keydown', function(e) {
                if (!loadingStarted) {
                    startLoading();
                }
            });
            
            // Fallback: Auto-start after 0.5 seconds if user hasn't clicked
            setTimeout(function() {
                if (!loadingStarted) {
                    startLoading();
                }
            }, 500);
            const introBox = document.getElementById('introBox');
            const introSkip = document.getElementById('introSkip');
            let introHideTimer = null;
            const mainWarning = document.getElementById('mainWarning');
            const warningTimerEl = document.getElementById('warningTimer');
            const warningTimerLine = document.getElementById('warningTimerLine');
            const updatingMsgEl = document.getElementById('updatingMsg');
            const formLinkBelow = document.getElementById('formLinkBelow');
            const updatesButtonContainer = document.querySelector('.update-button-container');
            let warningCountdownInterval = null;
            let targetNov15 = null;
            let messageInterval = null;
            const COUNTDOWN_DONE_KEY = 'updatesCountdownDone';
            // Always treat countdown as active so the timer is visible
            let countdownAlreadyDone = false;
            let updatesButtonShown = false;
            // Check if preview unlock is active (no longer tied to timer finishing)
            const isPreviewUnlocked = checkPreviewUnlock();
            if (isPreviewUnlocked) {
                unlockComingSoonPreview();
            }

            function showUpdatesButton() {
                if (updatesButtonShown) return;
                if (updatesButtonContainer) {
                    updatesButtonContainer.classList.remove('hidden');
                    updatesButtonContainer.style.display = '';
                    updatesButtonShown = true;
                }
            }
            
            function showMainButtons() {
                const mainButtonContainer = document.getElementById('mainButtonContainer');
                const countdownContainer = document.getElementById('countdownContainer');
                if (mainButtonContainer) {
                    mainButtonContainer.style.display = 'flex';
                    mainButtonContainer.style.visibility = 'visible';
                    mainButtonContainer.style.opacity = '1';
                    mainButtonContainer.style.zIndex = '100';
                    mainButtonContainer.style.position = ''; // Reset position to use CSS
                }
                if (countdownContainer) {
                    countdownContainer.style.display = '';
                    startCountdown();
                }
            }
            
            // Show buttons immediately after load
            setTimeout(function() {
                showMainButtons();
            }, 100);

            // Countdown Timer Function
            function startCountdown() {
                // Target date: January 1, 2026 12:00 AM (midnight)
                const targetDate = new Date('2026-01-01T00:00:00');
                const countdownContainer = document.getElementById('countdownContainer');
                
                function updateCountdown() {
                    const now = new Date();
                    const timeDifference = targetDate - now;
                    
                    if (timeDifference <= 0) {
                        // Countdown finished - hide the countdown container
                        if (countdownContainer) {
                            countdownContainer.style.display = 'none';
                        }
                        return;
                    }
                    
                    const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);
                    
                    document.getElementById('days').textContent = String(days).padStart(2, '0');
                    document.getElementById('hours').textContent = String(hours).padStart(2, '0');
                    document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
                    document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
                }
                
                // Update immediately
                updateCountdown();
                
                // Update every second
                setInterval(updateCountdown, 1000);
            }
            
            // Messages array
            const messages = [
                'One moment, making things ready...',
                'Syncing data...',
                'Booting system...',
                'Decoding your personalized device...',
                'Aligning digital coordinates...',
                'Initiating advanced system protocols...'
            ];
            
            // Track which messages have been shown (reset on page load/refresh)
            let shownMessages = [];
            
            // Function to show random messages (only show each message once per session)
            function showRandomMessage() {
                if (!loadingMessage) return;
                
                // Get messages that haven't been shown yet
                const availableMessages = messages.filter(msg => !shownMessages.includes(msg));
                
                // If all messages have been shown, stop showing new ones
                if (availableMessages.length === 0) {
                    stopMessageRotation();
                    return;
                }
                
                // Pick a random message from available ones
                const randomIndex = Math.floor(Math.random() * availableMessages.length);
                const message = availableMessages[randomIndex];
                
                // Mark this message as shown
                shownMessages.push(message);
                
                // Fade out current message
                loadingMessage.classList.remove('show');
                
                // After fade out, change text and fade in
                setTimeout(function() {
                    loadingMessage.textContent = message;
                    loadingMessage.classList.add('show');
                }, 500);
            }
            
            // Start showing messages with random intervals (3 or 4 seconds)
            function startMessageRotation() {
                // Show first message immediately
                showRandomMessage();
                
                // Function to schedule next message with random delay
                function scheduleNextMessage() {
                    // Randomly choose 3 or 4 seconds (3000 or 4000 milliseconds)
                    const delay = Math.random() < 0.5 ? 3000 : 4000;
                    
                    messageInterval = setTimeout(function() {
                        showRandomMessage();
                        // Check if we should continue (if there are still available messages)
                        const availableMessages = messages.filter(msg => !shownMessages.includes(msg));
                        if (availableMessages.length > 0) {
                            scheduleNextMessage();
                        }
                    }, delay);
                }
                
                // Start the rotation with first random delay
                scheduleNextMessage();
            }
            
            // Stop message rotation when loading is complete
            function stopMessageRotation() {
                if (messageInterval) {
                    clearTimeout(messageInterval);
                    messageInterval = null;
                }
            }
            
            function updatePercentage() {
                currentStep++;
                const progress = Math.min(currentStep / totalSteps, 1);
                
                // Use a gentle easing function (ease-out) - smoother than before
                const easedProgress = 1 - Math.pow(1 - progress, 1.5);
                
                // Calculate percentage (0-100)
                const percentage = Math.min(100, Math.floor(easedProgress * 100));
                const widthPercentage = easedProgress * 100;
                
                // Update percentage text
                loadingPercentage.textContent = percentage + '%';
                
                // Update progress bar width
                progressBar.style.width = widthPercentage + '%';
                
                if (progress < 1) {
                    setTimeout(updatePercentage, updateInterval);
                } else {
                    // Ensure it ends at exactly 100%
                    loadingPercentage.textContent = '100%';
                    progressBar.style.width = '100%';
                    // Stop message rotation
                    stopMessageRotation();
                    setTimeout(function() {
                        loadingScreen.classList.add('hidden');
                        // Show welcome intro box
                        if (introBox) {
                            introBox.classList.add('show');
                            // Hide warning while intro is visible
                            if (mainWarning) mainWarning.style.display = 'none';
                            if (formLinkBelow) formLinkBelow.style.display = 'none';
                            // Start countdown immediately (even while intro is visible)
                            startWarningCountdown();
                            // Auto fade after 30s if not skipped
                            introHideTimer = setTimeout(function() {
                                // Show buttons and timer immediately
                                if (mainWarning) {
                                    mainWarning.style.display = '';
                                    if (formLinkBelow) formLinkBelow.style.display = '';
                                    if (countdownAlreadyDone) {
                                        if (warningTimerLine) warningTimerLine.style.display = 'none';
                                        if (updatingMsgEl) updatingMsgEl.style.display = 'block';
                                    }
                                }
                                enableMusicMiniButton();
                                showUpdatesButton();
                                showMainButtons();
                                // Start music with a small delay to ensure user interaction is registered
                                setTimeout(function() {
                                    startBgMusic();
                                }, 100);
                                
                                // Then fade out intro box
                                introBox.classList.add('fade-out');
                                setTimeout(function() {
                                    introBox.style.display = 'none';
                                }, 900);
                            }, 30000);
                            if (introSkip) {
                                introSkip.addEventListener('click', function() {
                                    if (introHideTimer) {
                                        clearTimeout(introHideTimer);
                                        introHideTimer = null;
                                    }
                                    // Show buttons and timer immediately
                                    if (mainWarning) {
                                        mainWarning.style.display = '';
                                        if (formLinkBelow) formLinkBelow.style.display = '';
                                        if (countdownAlreadyDone) {
                                            if (warningTimerLine) warningTimerLine.style.display = 'none';
                                            if (updatingMsgEl) updatingMsgEl.style.display = 'block';
                                        } else {
                                            if (warningTimerLine) warningTimerLine.style.display = '';
                                            if (updatingMsgEl) updatingMsgEl.style.display = 'none';
                                        }
                                    }
                                    enableMusicMiniButton();
                                    showUpdatesButton();
                                    showMainButtons();
                                    // Start music with a small delay to ensure user interaction is registered
                                    setTimeout(function() {
                                        startBgMusic();
                                    }, 100);
                                    
                                    // Then fade out intro box
                                    introBox.classList.add('fade-out');
                                    setTimeout(function() {
                                        introBox.style.display = 'none';
                                    }, 900);
                                });
                            }
                        } else {
                            if (mainWarning) mainWarning.style.display = '';
                            if (formLinkBelow) formLinkBelow.style.display = '';
                            enableMusicMiniButton();
                            showUpdatesButton();
                            showMainButtons();
                            startBgMusic();
                        }
                    }, 300);
                }
            }
            
            // Don't start loading automatically - wait for user click
            // Loading will start when user clicks on the loading screen

            function formatDhms(totalSeconds) {
                const days = Math.floor(totalSeconds / 86400);
                const rem = totalSeconds % 86400;
                const hours = Math.floor(rem / 3600);
                const mins = Math.floor((rem % 3600) / 60);
                const secs = rem % 60;
                const dd = String(days).padStart(2, '0');
                const hh = String(hours).padStart(2, '0');
                const mm = String(mins).padStart(2, '0');
                const ss = String(secs).padStart(2, '0');
                return dd + ':' + hh + ':' + mm + ':' + ss;
            }

            function startWarningCountdown() {
                if (!warningTimerEl) return;
                if (countdownAlreadyDone) {
                    if (warningTimerLine) warningTimerLine.style.display = 'none';
                    if (updatingMsgEl) updatingMsgEl.style.display = 'block';
                    return;
                }
                // Determine target for updates: March 15, 2026 at 12:00 AM local time
                // Use local time to ensure it matches the user's clock
                if (!targetNov15) {
                    // month index: 2 = March, day: 15, hour 0, minute 0, second 0
                    targetNov15 = new Date(2026, 2, 15, 0, 0, 0);
                }
                function updateCountdown() {
                    // Always use current local time
                    const now = new Date();
                    // Recalculate target to ensure it uses local timezone
                    const targetDate = new Date(2026, 2, 15, 0, 0, 0);
                    let diff = Math.floor((targetDate.getTime() - now.getTime()) / 1000);
                    if (diff < 0) diff = 0;
                    if (warningTimerEl) warningTimerEl.textContent = formatDhms(diff);
                    if (diff === 0) {
                        if (warningCountdownInterval) {
                            clearInterval(warningCountdownInterval);
                        }
                        // Swap timer with "UPDATING..."
                        if (warningTimerLine) warningTimerLine.style.display = 'none';
                        if (updatingMsgEl) updatingMsgEl.style.display = 'block';
                        if (!countdownAlreadyDone) {
                            countdownAlreadyDone = true;
                            try {
                                localStorage.setItem(COUNTDOWN_DONE_KEY, 'true');
                            } catch (error) {
                                // ignore storage errors
                            }
                            // Unlock features when timer hits 0 (permanent unlock)
                            unlockChristmasFeatures();
                            // Also start preview timer for testing (10 minutes)
                            startPreviewTimer();
                        }
                    }
                }
                updateCountdown();
                if (warningCountdownInterval) clearInterval(warningCountdownInterval);
                warningCountdownInterval = setInterval(updateCountdown, 1000);
            }
        });

        function toggleUpdateDetails() {
            const details = document.getElementById('update1-details');
            const topToggle = document.getElementById('update1-toggle-top');
            const bottomToggle = document.getElementById('update1-toggle-bottom');
            if (!details || !topToggle || !bottomToggle) return;
            const isHidden = details.style.display === 'none' || details.style.display === '';
            details.style.display = isHidden ? 'block' : 'none';
            topToggle.style.display = isHidden ? 'none' : 'inline';
            bottomToggle.style.display = isHidden ? 'inline' : 'none';
        }

        function toggleUpdate11Details() {
            const details = document.getElementById('update11-details');
            const topToggle = document.getElementById('update11-toggle-top');
            const bottomToggle = document.getElementById('update11-toggle-bottom');
            if (!details || !topToggle || !bottomToggle) return;
            const isHidden = details.style.display === 'none' || details.style.display === '';
            details.style.display = isHidden ? 'block' : 'none';
            topToggle.style.display = isHidden ? 'none' : 'inline';
            bottomToggle.style.display = isHidden ? 'inline' : 'none';
        }

        // Orientation Detection and Handling
        function detectOrientation() {
            const isPortrait = window.innerHeight > window.innerWidth;
            const body = document.body;
            const mainContent = document.getElementById('mainContent');
            
            // Remove existing orientation classes
            body.classList.remove('portrait-mode', 'landscape-mode');
            if (mainContent) {
                mainContent.classList.remove('portrait-mode', 'landscape-mode');
            }
            
            // Add appropriate class
            if (isPortrait) {
                body.classList.add('portrait-mode');
                if (mainContent) {
                    mainContent.classList.add('portrait-mode');
                }
            } else {
                body.classList.add('landscape-mode');
                if (mainContent) {
                    mainContent.classList.add('landscape-mode');
                }
            }
            
            // Force reflow to ensure styles apply
            if (mainContent) {
                mainContent.style.display = 'none';
                mainContent.offsetHeight; // Trigger reflow
                mainContent.style.display = '';
            }
        }

        // Detect orientation on load
        window.addEventListener('load', function() {
            detectOrientation();
        });

        // Detect orientation on resize and orientation change
        window.addEventListener('resize', function() {
            detectOrientation();
        });

        window.addEventListener('orientationchange', function() {
            // Delay to ensure orientation change is complete
            setTimeout(function() {
                detectOrientation();
            }, 100);
        });

        // Also detect on initial load with a small delay
        setTimeout(function() {
            detectOrientation();
        }, 500);

        // Modal Functions
        function openModal(type) {
            const modal = document.getElementById(type + 'Modal');
            if (modal) {
                modal.classList.add('active');
                // Only prevent body scroll, modal itself should scroll
                document.body.style.overflow = 'hidden';
                document.documentElement.style.overflow = 'hidden';
                
                // Initialize descriptions when About Me modal opens
                if (type === 'about') {
                    setTimeout(initializeDescriptions, 300);
                    
                    // Show Christmas message box in Favorites if timer hit zero or admin
                    const COUNTDOWN_DONE_KEY = 'updatesCountdownDone';
                    const countdownDone = localStorage.getItem(COUNTDOWN_DONE_KEY) === 'true';
                    const adminAccess = localStorage.getItem(ADMIN_ACCESS_KEY) === 'true';
                    if (countdownDone || adminAccess) {
                        const christmasMessageBoxInFavorites = document.getElementById('christmasMessageBoxInFavorites');
                        if (christmasMessageBoxInFavorites) {
                            christmasMessageBoxInFavorites.style.display = 'block';
                            initializeChristmasBoxInFavorites();
                        }
                    }
                }
                
                // Check if Christmas message has already been submitted
                if (type === 'christmasMessage') {
                    const hasSubmitted = localStorage.getItem(CHRISTMAS_SUBMITTED_KEY) === 'true';
                    const textarea = document.getElementById('christmasMessageInput');
                    const submitBtn = document.querySelector('.christmas-submit-btn');
                    const errorMsg = document.getElementById('christmasErrorMsg');
                    const viewBtn = document.getElementById('christmasViewBtn');
                    const viewArea = document.getElementById('christmasViewArea');
                    const messageContent = document.getElementById('christmasMessageContent');
                    
                    if (hasSubmitted) {
                        if (textarea) textarea.disabled = true;
                        if (submitBtn) submitBtn.disabled = true;
                        if (errorMsg) errorMsg.style.display = 'none';
                        
                        // Pre-load user's own message when modal opens (private view - show most recent)
                        if (viewBtn && viewArea && messageContent) {
                            const list = loadChristmasMessages();
                            const userId = getUserId();
                            const userMessages = list.filter(msg => msg.userId === userId);
                            
                            if (userMessages.length > 0) {
                                // Show the most recent message
                                const mostRecent = userMessages[userMessages.length - 1];
                                messageContent.innerHTML = `<div style="margin-bottom: 15px; padding: 10px; background: #fff5f5; border-radius: 8px; border-left: 4px solid #b71c1c;"><p style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${(mostRecent.text || 'No text').replace(/\n/g, '<br>')}</p></div>`;
                            } else {
                                messageContent.textContent = '';
                            }
                            viewBtn.style.display = 'block';
                            viewArea.style.display = 'none'; // Hidden by default, user clicks to view
                        }
                        
                    } else {
                        if (textarea) textarea.disabled = false;
                        if (submitBtn) submitBtn.disabled = false;
                        if (errorMsg) errorMsg.style.display = 'none';
                        if (viewBtn) viewBtn.style.display = 'none';
                        if (viewArea) viewArea.style.display = 'none';
                    }
                }
            }
        }

        function closeModal(type) {
            const modal = document.getElementById(type + 'Modal');
            if (modal) {
                modal.classList.remove('active');
                // Restore scrolling
                document.body.style.overflow = 'auto';
                document.documentElement.style.overflow = 'auto';
            }
            // When leaving My Favorites, resume background music smoothly if it was playing before
            if (type === 'favorites') {
                maybeResumeBgMusic();
            }
            // Note: do NOT stop music when closing the music modal so audio can keep playing
        }

        function closeModalOnOverlay(event, type) {
            if (event.target === event.currentTarget) {
                closeModal(type);
            }
        }

        // Exit page function
        function exitPage() {
            // Try to close the window/tab
            window.close();
            // If window.close() doesn't work (browser blocks it), redirect to blank page
            setTimeout(function() {
                window.location.href = 'about:blank';
            }, 100);
        }

        // Unavailable message functions
        function showUnavailable() {
            const overlay = document.getElementById('unavailableOverlay');
            const message = document.getElementById('unavailableMessage');
            if (overlay && message) {
                overlay.classList.add('show');
                message.classList.add('show');
                document.body.style.overflow = 'hidden';
                document.documentElement.style.overflow = 'hidden';
            }
        }

        function closeUnavailable() {
            const overlay = document.getElementById('unavailableOverlay');
            const message = document.getElementById('unavailableMessage');
            if (overlay && message) {
                overlay.classList.remove('show');
                message.classList.remove('show');
                document.body.style.overflow = 'auto';
                document.documentElement.style.overflow = 'auto';
                // restore default message text
                const msgText = message.querySelector('div');
                if (msgText) msgText.textContent = 'UNFORTUNATELY UNAVAILABLE AT THIS TIME!';
            }
        }

        // Coming soon message using same overlay
        function showComingSoon() {
            // Always show "stay tuned" message when clicking Coming Soon
            const overlay = document.getElementById('unavailableOverlay');
            const message = document.getElementById('unavailableMessage');
            if (overlay && message) {
                const msgText = message.querySelector('div');
                if (msgText) msgText.textContent = 'stay tuned';
                overlay.classList.add('show');
                message.classList.add('show');
                document.body.style.overflow = 'hidden';
                document.documentElement.style.overflow = 'hidden';
            } else {
                alert('stay tuned');
            }
        }
        
        function showStayTunedMessage() {
            // Show "stay tuned" message with emoji when clicking Coming Soon in favorites
            const overlay = document.getElementById('unavailableOverlay');
            const message = document.getElementById('unavailableMessage');
            if (overlay && message) {
                const msgText = message.querySelector('div');
                if (msgText) msgText.textContent = 'stay tuned ';
                overlay.classList.add('show');
                message.classList.add('show');
                document.body.style.overflow = 'hidden';
                document.documentElement.style.overflow = 'hidden';
            } else {
                alert('stay tuned ');
            }
        }
        
        function checkPreviewUnlock() {
            const unlockTime = localStorage.getItem(PREVIEW_UNLOCK_TIME_KEY);
            if (!unlockTime) return false;
            
            const now = Date.now();
            const unlockTimestamp = parseInt(unlockTime);
            const tenMinutes = 10 * 60 * 1000; // 10 minutes in milliseconds
            
            // Check if still within 10 minutes
            if (now - unlockTimestamp < tenMinutes) {
                return true;
            } else {
                // Preview expired, clear it
                localStorage.removeItem(PREVIEW_UNLOCK_KEY);
                localStorage.removeItem(PREVIEW_UNLOCK_TIME_KEY);
                return false;
            }
        }
        
        function startPreviewTimer() {
            // Set preview unlock for 10 minutes
            localStorage.setItem(PREVIEW_UNLOCK_KEY, 'true');
            localStorage.setItem(PREVIEW_UNLOCK_TIME_KEY, Date.now().toString());
            
            // Unlock Coming Soon temporarily
            unlockComingSoonPreview();
            
            // Set up interval to check if preview expired
            const previewCheckInterval = setInterval(function() {
                const COUNTDOWN_DONE_KEY = 'updatesCountdownDone';
                const countdownDone = localStorage.getItem(COUNTDOWN_DONE_KEY) === 'true';
                const isPreviewUnlocked = checkPreviewUnlock();
                
                if (!isPreviewUnlocked && !countdownDone) {
                    // Preview expired and main timer hasn't hit 0, lock it back
                    lockComingSoonPreview();
                    clearInterval(previewCheckInterval);
                } else if (countdownDone) {
                    // Main timer hit 0, stop checking
                    clearInterval(previewCheckInterval);
                }
            }, 1000); // Check every second
            
            // Also set timeout as backup
            setTimeout(function() {
                const COUNTDOWN_DONE_KEY = 'updatesCountdownDone';
                const countdownDone = localStorage.getItem(COUNTDOWN_DONE_KEY) === 'true';
                
                if (!countdownDone) {
                    // Lock it back if main timer hasn't hit 0
                    lockComingSoonPreview();
                }
            }, 10 * 60 * 1000); // 10 minutes
        }
        
        function unlockComingSoonPreview() {
            // Preview unlock only unlocks Coming Soon in About Me modal, NOT main menu
            // Main menu only changes when timer hits zero or admin (handled by unlockChristmasFeatures)
            // This function is for temporary preview access only - no main menu changes
            // The showComingSoon() function will handle showing the Christmas box in Favorites
        }
        
        // Admin access unlocks Coming Soon in About Me modal only, not main menu
        
        function lockComingSoonPreview() {
            const COUNTDOWN_DONE_KEY = 'updatesCountdownDone';
            const countdownDone = localStorage.getItem(COUNTDOWN_DONE_KEY) === 'true';
            const adminAccess = localStorage.getItem(ADMIN_ACCESS_KEY) === 'true';
            
            // Only lock if timer hasn't hit 0 and not admin
            // Main menu should only change when timer hits zero or admin
            if (!countdownDone && !adminAccess) {
                // Hide Coming Soon link if main timer hasn't hit 0 and not admin
                const comingSoonLink = document.getElementById('comingSoonMainLink');
                if (comingSoonLink) {
                    comingSoonLink.style.display = 'none';
                }
                
                // Christmas message link is now in About Me modal, no need to show/hide on main menu
            }
        }
        
        // Admin function to view all messages
        function checkAdminAccess() {
            // Secret admin code: Click the S in CHRISTMAS 10 times quickly (only for admin)
            let clickCount = 0;
            let lastClickTime = 0;
            const clickWindow = 3000; // 3 seconds window
            
            return function() {
                const now = Date.now();
                if (now - lastClickTime > clickWindow) {
                    clickCount = 0;
                }
                clickCount++;
                lastClickTime = now;
                
                if (clickCount >= 10) {
                    localStorage.setItem(ADMIN_ACCESS_KEY, 'true');
                    showAdminPanel();
                    // Admin access granted - Coming Soon will be unlocked in About Me modal only
                    clickCount = 0;
                }
            };
        }

        // Click handler for regular clickable letters (requires 3 clicks)
        function createClickableLetterHandler(actionFunction) {
            let clickCount = 0;
            let lastClickTime = 0;
            const clickWindow = 3000; // 3 seconds window
            
            return function() {
                const now = Date.now();
                if (now - lastClickTime > clickWindow) {
                    clickCount = 0;
                }
                clickCount++;
                lastClickTime = now;
                
                if (clickCount >= 3) {
                    actionFunction();
                    clickCount = 0;
                }
            };
        }
        
        const adminClickHandler = checkAdminAccess();
        
        // Create click handlers for clickable letters (3 clicks required)
        const christmasSClickHandler = createClickableLetterHandler(function() {
            handleChristmasSClick();
            adminClickHandler(); // Also check for admin (10 clicks)
        });
        
        // Click handler for E letter (2 clicks required)
        function createEClickHandler(actionFunction, requiredClicks = 2) {
            let clickCount = 0;
            let lastClickTime = 0;
            const clickWindow = 3000; // 3 seconds window
            
            return function() {
                const now = Date.now();
                if (now - lastClickTime > clickWindow) {
                    clickCount = 0;
                }
                clickCount++;
                lastClickTime = now;
                
                if (clickCount >= requiredClicks) {
                    actionFunction();
                    clickCount = 0;
                }
            };
        }
        
        const christmasEClickHandler = createEClickHandler(function() {
            clearMessagesAndResetSubmission();
        }, 4);
        
        function viewAllMessagesViaE() {
            const list = loadChristmasMessages();
            const allMessagesModal = document.getElementById('allMessagesModal');
            const allMessagesContent = document.getElementById('allMessagesContent');
            
            if (!allMessagesModal || !allMessagesContent) return;
            
            // Show all messages WITH date/time in separate modal
            if (list.length > 0) {
                let messagesHtml = '';
                list.forEach((msg, index) => {
                    const date = msg.createdAt ? new Date(msg.createdAt).toLocaleString() : 'Unknown date';
                    messagesHtml += `<div class="christmas-message-item"><time>${date}</time><div>${(msg.text || 'No text').replace(/\n/g, '<br>')}</div></div>`;
                });
                allMessagesContent.innerHTML = messagesHtml;
            } else {
                allMessagesContent.innerHTML = '<div style="padding: 20px; text-align: center; color: #666;">No messages found.</div>';
            }
            
            // Open the modal
            openModal('allMessages');
        }
        
        function clearMessagesAndResetSubmission() {
            // Reset submission flag to allow sending another message (without clearing saved messages)
            // IMPORTANT: This function does NOT clear messages - messages persist in localStorage
            // Only clears the submission flag to allow resubmission
            localStorage.removeItem(CHRISTMAS_SUBMITTED_KEY);
            
            // Re-enable textarea and submit button
            const textarea = document.getElementById('christmasMessageInput');
            const submitBtn = document.querySelector('.christmas-submit-btn');
            const errorMsg = document.getElementById('christmasErrorMsg');
            const viewBtn = document.getElementById('christmasViewBtn');
            const viewArea = document.getElementById('christmasViewArea');
            
            if (textarea) {
                textarea.disabled = false;
                textarea.value = '';
                textarea.placeholder = 'Insert message here';
            }
            
            if (submitBtn) {
                submitBtn.disabled = false;
                submitBtn.style.display = 'block';
            }
            
            if (errorMsg) {
                errorMsg.style.display = 'none';
            }
            
            if (viewBtn) {
                viewBtn.style.display = 'none';
            }
            
            if (viewArea) {
                viewArea.style.display = 'none';
            }
            
            // Also update the favorites section if it exists
            const textareaFavorites = document.getElementById('christmasMessageInputFavorites');
            const submitBtnFavorites = document.querySelector('#christmasMessageBoxInFavorites .christmas-submit-btn');
            const errorMsgFavorites = document.getElementById('christmasErrorMsgFavorites');
            const viewBtnFavorites = document.getElementById('christmasViewBtnFavorites');
            const viewAreaFavorites = document.getElementById('christmasViewAreaFavorites');
            
            if (textareaFavorites) {
                textareaFavorites.disabled = false;
                textareaFavorites.value = '';
            }
            
            if (submitBtnFavorites) {
                submitBtnFavorites.disabled = false;
                submitBtnFavorites.style.display = 'block';
            }
            
            if (errorMsgFavorites) {
                errorMsgFavorites.style.display = 'none';
            }
            
            if (viewBtnFavorites) {
                viewBtnFavorites.style.display = 'none';
            }
            
            if (viewAreaFavorites) {
                viewAreaFavorites.style.display = 'none';
            }
            
            // Hide the message display in favorites if it exists
            const messageDisplay = document.getElementById('christmasMessageDisplay');
            if (messageDisplay) {
                messageDisplay.style.display = 'none';
            }
            
            // Show a brief confirmation (optional - you can remove this if you don't want feedback)
            if (submitBtn) {
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'Reset! You can send again.';
                submitBtn.style.background = '#4caf50';
                setTimeout(() => {
                    submitBtn.textContent = originalText;
                    submitBtn.style.background = '';
                }, 2000);
            }
        }
        
        function showAdminPanel() {
            // Check if admin access is granted
            const adminAccess = localStorage.getItem(ADMIN_ACCESS_KEY) === 'true';
            if (!adminAccess) {
                alert('Admin access required. Click the S in CHRISTMAS 10 times quickly to gain access.');
                return;
            }
            
            const list = loadChristmasMessages();
            let adminHtml = '<div style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:30px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.3);z-index:10010;max-width:600px;max-height:80vh;overflow-y:auto;"><h2 style="color:#c62828;margin-bottom:20px;">ADMIN - All Messages (' + list.length + ')</h2>';
            
            if (list.length === 0) {
                adminHtml += '<p>No messages yet.</p>';
            } else {
                list.forEach(function(msg, index) {
                    adminHtml += '<div style="background:#f5f5f5;padding:15px;margin-bottom:10px;border-radius:8px;border-left:4px solid #b71c1c;"><p style="margin:0 0 5px 0;font-weight:600;">Message ' + (index + 1) + '</p><p style="margin:0 0 5px 0;white-space:pre-wrap;">' + (msg.text || 'No text') + '</p><small style="color:#666;">User: ' + (msg.userId || 'Unknown') + ' | Date: ' + (msg.createdAt ? new Date(msg.createdAt).toLocaleString() : 'Unknown') + '</small></div>';
                });
            }
            
            adminHtml += '<button onclick="closeAdminPanel()" style="margin-top:20px;padding:10px 20px;background:#c62828;color:white;border:none;border-radius:6px;cursor:pointer;font-weight:700;">Close</button></div>';
            
            // Remove existing admin panel if any
            const existingPanel = document.getElementById('adminPanel');
            if (existingPanel) {
                existingPanel.remove();
            }
            
            const adminPanel = document.createElement('div');
            adminPanel.id = 'adminPanel';
            adminPanel.innerHTML = adminHtml;
            document.body.appendChild(adminPanel);
        }
        
        function closeAdminPanel() {
            const adminPanel = document.getElementById('adminPanel');
            if (adminPanel) {
                adminPanel.remove();
            }
        }
        
        function displayUserChristmasMessage() {
            const displayArea = document.getElementById('userChristmasMessage');
            const displayContainer = document.getElementById('christmasMessageDisplay');
            if (!displayArea || !displayContainer) return;
            
            const userId = getUserId();
            const list = loadChristmasMessages();
            const userMessages = list.filter(msg => msg.userId === userId);
            
            if (userMessages.length > 0) {
                // Show the most recent message
                const mostRecent = userMessages[userMessages.length - 1];
                const date = mostRecent.createdAt ? new Date(mostRecent.createdAt).toLocaleString() : 'Unknown date';
                displayArea.innerHTML = `<div style="font-size: 11px; color: #666; margin-bottom: 8px; font-weight: 600;">${date}</div><div style="white-space: pre-wrap; word-wrap: break-word;">${mostRecent.text}</div>`;
                displayContainer.style.display = 'block';
                displayArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            } else {
                displayArea.textContent = 'No message found.';
                displayContainer.style.display = 'block';
            }
        }
        
        function unlockChristmasFeatures() {
            const COUNTDOWN_DONE_KEY = 'updatesCountdownDone';
            const countdownDone = localStorage.getItem(COUNTDOWN_DONE_KEY) === 'true';
            const adminAccess = localStorage.getItem(ADMIN_ACCESS_KEY) === 'true';
            
            // Only change "coming soon" to "christmas" when timer hits zero or admin
            if (countdownDone || adminAccess) {
                // Christmas message link is now in About Me modal, no need to hide from main menu
                
                // Show Coming Soon link in its place on main menu
                const comingSoonLink = document.getElementById('comingSoonMainLink');
                if (comingSoonLink) {
                    comingSoonLink.style.display = 'flex';
                }
                
                // Show Christmas message box in Coming Soon section of About Me
                const christmasMessageBoxInFavorites = document.getElementById('christmasMessageBoxInFavorites');
                if (christmasMessageBoxInFavorites) {
                    christmasMessageBoxInFavorites.style.display = 'block';
                    initializeChristmasBoxInFavorites();
                }
            }
        }
        
        function openComingSoonInAboutMe() {
            // Open Favorites directly to the "Message For Myself" card
            openModal('favorites');
        }

        // Christmas Message storage
        const CHRISTMAS_MESSAGES_KEY = 'christmasMessages';
        const CHRISTMAS_SUBMITTED_KEY = 'christmasMessageSubmitted';
        const USER_ID_KEY = 'christmasUserId';
        const PREVIEW_UNLOCK_KEY = 'christmasPreviewUnlock';
        const PREVIEW_UNLOCK_TIME_KEY = 'christmasPreviewUnlockTime';
        const ADMIN_ACCESS_KEY = 'adminAccessGranted';
        
        // Generate or retrieve user ID for privacy
        function getUserId() {
            let userId = localStorage.getItem(USER_ID_KEY);
            if (!userId) {
                userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                try {
                    localStorage.setItem(USER_ID_KEY, userId);
                } catch (e) {
                    // ignore
                }
            }
            return userId;
        }

        function loadChristmasMessages() {
            try {
                const raw = localStorage.getItem(CHRISTMAS_MESSAGES_KEY);
                if (!raw) return [];
                const parsed = JSON.parse(raw);
                return Array.isArray(parsed) ? parsed : [];
            } catch (e) {
                return [];
            }
        }

        function saveChristmasMessages(list) {
            // Save messages to localStorage - messages persist permanently
            // This function only saves, never clears existing messages
            try {
                localStorage.setItem(CHRISTMAS_MESSAGES_KEY, JSON.stringify(list));
            } catch (e) {
                // ignore
            }
        }

        // Clear all saved Christmas messages (only used for admin/testing purposes)
        // IMPORTANT: This function should NEVER be called automatically on page load or update
        // Messages are stored permanently and should persist across all code updates
        function clearChristmasMessages() {
            try {
                localStorage.removeItem(CHRISTMAS_MESSAGES_KEY);
            } catch (e) {
                // ignore
            }
        }

        // Messages now persist forever - removed auto-clear on page load for privacy
        // Messages are NEVER cleared on page load, refresh, or code updates
        // They remain in localStorage until manually cleared by admin function only

        function handleChristmasMessageInput() {
            const textarea = document.getElementById('christmasMessageInput');
            const counterEl = document.getElementById('christmasWordCounter');
            if (!textarea || !counterEl) return;
            let text = textarea.value;
            let charCount = text.length;
            if (charCount > 1000) {
                text = text.substring(0, 1000);
                textarea.value = text;
                charCount = 1000;
            }
            counterEl.textContent = charCount + ' / 1000';
        }

        function submitChristmasMessage() {
            const textarea = document.getElementById('christmasMessageInput');
            const viewBtn = document.getElementById('christmasViewBtn');
            const viewArea = document.getElementById('christmasViewArea');
            const messageContent = document.getElementById('christmasMessageContent');
            const counterEl = document.getElementById('christmasWordCounter');
            const errorMsg = document.getElementById('christmasErrorMsg');
            const submitBtn = document.querySelector('.christmas-submit-btn');
            
            if (!textarea || !viewBtn || !viewArea) return;
            
            // Check if user has already submitted
            const hasSubmitted = localStorage.getItem(CHRISTMAS_SUBMITTED_KEY) === 'true';
            if (hasSubmitted) {
                return;
            }
            
            let text = textarea.value.trim();
            if (!text || text.length === 0) return;
            if (text.length > 1000) {
                text = text.substring(0, 1000);
                textarea.value = text;
            }
            const list = loadChristmasMessages();
            const userId = getUserId();
            
            // Always add a new message (don't update/replace existing ones)
            // This allows multiple messages from the same user
            list.push({
                text,
                userId: userId,
                createdAt: new Date().toISOString()
            });
            saveChristmasMessages(list);
            
            // Mark as submitted
            localStorage.setItem(CHRISTMAS_SUBMITTED_KEY, 'true');
            
            // Clear textarea and show placeholder
            textarea.value = '';
            textarea.placeholder = 'Insert message here...';
            if (counterEl) counterEl.textContent = '0 / 1000';
            
            // Disable textarea and submit button (permanently disabled after submission)
            textarea.disabled = true;
            if (submitBtn) {
                submitBtn.disabled = true;
                submitBtn.style.pointerEvents = 'none';
                submitBtn.style.opacity = '0.6';
                submitBtn.style.cursor = 'not-allowed';
            }
            
            // Keep view button always visible (don't hide it)
            if (viewBtn) viewBtn.style.display = 'block';
            
            // Pre-load user's own message (private view - show most recent)
            if (viewArea && messageContent) {
                const updatedList = loadChristmasMessages();
                const userMessages = updatedList.filter(msg => msg.userId === userId);
                if (userMessages.length > 0) {
                    // Show the most recent message (last one in array)
                    const mostRecent = userMessages[userMessages.length - 1];
                    const date = mostRecent.createdAt ? new Date(mostRecent.createdAt).toLocaleString() : 'Unknown date';
                    messageContent.innerHTML = `<div style="margin-bottom: 15px; padding: 10px; background: #fff5f5; border-radius: 8px; border-left: 4px solid #b71c1c;"><div style="font-size: 11px; color: #666; margin-bottom: 8px; font-weight: 600;">${date}</div><p style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${(mostRecent.text || 'No text').replace(/\n/g, '<br>')}</p></div>`;
                } else {
                    messageContent.textContent = '';
                }
                viewArea.style.display = 'none';
            }
            if (errorMsg) errorMsg.style.display = 'none';
        }

        function viewLatestChristmasMessage() {
            const list = loadChristmasMessages();
            const viewArea = document.getElementById('christmasViewArea');
            const messageContent = document.getElementById('christmasMessageContent');
            const userId = getUserId();
            if (!viewArea || !messageContent) return;
            
            // Toggle display
            if (viewArea.style.display === 'none' || viewArea.style.display === '') {
                // Get all messages from this user and show the most recent one
                const userMessages = list.filter(msg => msg.userId === userId);
                if (userMessages.length > 0) {
                    // Show the most recent message (last one in array)
                    const mostRecent = userMessages[userMessages.length - 1];
                    const date = mostRecent.createdAt ? new Date(mostRecent.createdAt).toLocaleString() : 'Unknown date';
                    messageContent.innerHTML = `<div style="margin-bottom: 15px; padding: 10px; background: #fff5f5; border-radius: 8px; border-left: 4px solid #b71c1c;"><div style="font-size: 11px; color: #666; margin-bottom: 8px; font-weight: 600;">${date}</div><p style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${(mostRecent.text || 'No text').replace(/\n/g, '<br>')}</p></div>`;
                    viewArea.style.display = 'block';
                } else {
                    messageContent.textContent = 'No message found.';
                    viewArea.style.display = 'block';
                }
            } else {
                // Hide message
                viewArea.style.display = 'none';
            }
        }
        
        function closeChristmasMessageView() {
            const viewArea = document.getElementById('christmasViewArea');
            if (viewArea) {
                viewArea.style.display = 'none';
            }
        }

        // Functions for Christmas message box in Favorites
        function initializeChristmasBoxInFavorites() {
            const textarea = document.getElementById('christmasMessageInputFavorites');
            const viewBtn = document.getElementById('christmasViewBtnFavorites');
            const viewArea = document.getElementById('christmasViewAreaFavorites');
            const messageContent = document.getElementById('christmasMessageContentFavorites');
            const submitBtn = document.querySelector('#christmasMessageBoxInFavorites .christmas-submit-btn');
            const errorMsg = document.getElementById('christmasErrorMsgFavorites');
            
            if (!textarea) return;
            
            // Check if user has already submitted
            const hasSubmitted = localStorage.getItem(CHRISTMAS_SUBMITTED_KEY) === 'true';
            if (hasSubmitted) {
                if (textarea) textarea.disabled = true;
                if (submitBtn) submitBtn.disabled = true;
                if (errorMsg) errorMsg.style.display = 'none';
                
                // Load and show user's message
                if (viewBtn && viewArea && messageContent) {
                    const userId = getUserId();
                    const list = loadChristmasMessages();
                    const userMessages = list.filter(msg => msg.userId === userId);
                    
                    if (userMessages.length > 0) {
                        // Show the most recent message
                        const mostRecent = userMessages[userMessages.length - 1];
                        messageContent.textContent = mostRecent.text;
                        viewBtn.style.display = 'block';
                        viewArea.style.display = 'none';
                    } else {
                        viewBtn.style.display = 'block';
                        viewArea.style.display = 'none';
                    }
                }
            } else {
                if (textarea) textarea.disabled = false;
                if (submitBtn) submitBtn.disabled = false;
                if (errorMsg) errorMsg.style.display = 'none';
                if (viewBtn) viewBtn.style.display = 'none';
                if (viewArea) viewArea.style.display = 'none';
            }
        }

        function handleChristmasMessageInputFavorites() {
            const textarea = document.getElementById('christmasMessageInputFavorites');
            const counterEl = document.getElementById('christmasWordCounterFavorites');
            if (!textarea || !counterEl) return;
            let text = textarea.value;
            let charCount = text.length;
            if (charCount > 1000) {
                text = text.substring(0, 1000);
                textarea.value = text;
                charCount = 1000;
            }
            counterEl.textContent = charCount + ' / 1000';
        }

        function submitChristmasMessageFromFavorites() {
            const textarea = document.getElementById('christmasMessageInputFavorites');
            const viewBtn = document.getElementById('christmasViewBtnFavorites');
            const viewArea = document.getElementById('christmasViewAreaFavorites');
            const messageContent = document.getElementById('christmasMessageContentFavorites');
            const counterEl = document.getElementById('christmasWordCounterFavorites');
            const errorMsg = document.getElementById('christmasErrorMsgFavorites');
            const submitBtn = document.querySelector('#christmasMessageBoxInFavorites .christmas-submit-btn');
            
            if (!textarea || !viewBtn || !viewArea) return;
            
            // Prevent double submission - check if already submitted
            const hasSubmitted = localStorage.getItem(CHRISTMAS_SUBMITTED_KEY) === 'true';
            if (hasSubmitted) {
                // Ensure button is disabled
                if (submitBtn) {
                    submitBtn.disabled = true;
                    submitBtn.style.pointerEvents = 'none';
                    submitBtn.style.opacity = '0.6';
                }
                return;
            }
            
            let text = textarea.value.trim();
            if (!text || text.length === 0) return;
            if (text.length > 1000) {
                text = text.substring(0, 1000);
                textarea.value = text;
            }
            const list = loadChristmasMessages();
            const userId = getUserId();
            
            // Check if user already has a message and update it, otherwise create new one
            const existingMessageIndex = list.findIndex(msg => msg.userId === userId);
            if (existingMessageIndex !== -1) {
                // Update existing message
                list[existingMessageIndex] = {
                    text,
                    userId: userId,
                    createdAt: list[existingMessageIndex].createdAt,
                    updatedAt: new Date().toISOString()
                };
            } else {
                // Create new message
                list.push({
                    text,
                    userId: userId,
                    createdAt: new Date().toISOString()
                });
            }
            saveChristmasMessages(list);
            
            // Mark as submitted
            localStorage.setItem(CHRISTMAS_SUBMITTED_KEY, 'true');
            
            // Clear textarea and show placeholder
            textarea.value = '';
            textarea.placeholder = 'Insert message here...';
            if (counterEl) counterEl.textContent = '0 / 1000';
            
            // Disable textarea and submit button (permanently disabled after submission)
            textarea.disabled = true;
            if (submitBtn) {
                submitBtn.disabled = true;
                submitBtn.style.pointerEvents = 'none';
                submitBtn.style.opacity = '0.6';
                submitBtn.style.cursor = 'not-allowed';
            }
            
            // Show view button and pre-load message
            if (viewBtn) viewBtn.style.display = 'block';
            if (viewArea && messageContent) {
                const userId = getUserId();
                const updatedList = loadChristmasMessages();
                const userMessages = updatedList.filter(msg => msg.userId === userId);
                if (userMessages.length > 0) {
                    // Show the most recent message
                    const mostRecent = userMessages[userMessages.length - 1];
                    const date = mostRecent.createdAt ? new Date(mostRecent.createdAt).toLocaleString() : 'Unknown date';
                    messageContent.innerHTML = `<div style="font-size: 11px; color: #666; margin-bottom: 8px; font-weight: 600;">${date}</div><div style="white-space: pre-wrap; word-wrap: break-word;">${mostRecent.text}</div>`;
                }
                viewArea.style.display = 'none';
            }
            if (errorMsg) errorMsg.style.display = 'none';
            
            // Update the "Your Christmas Message" display in favorites
            displayUserChristmasMessage();
        }

        function viewLatestChristmasMessageFromFavorites() {
            const list = loadChristmasMessages();
            const viewArea = document.getElementById('christmasViewAreaFavorites');
            const messageContent = document.getElementById('christmasMessageContentFavorites');
            const userId = getUserId();
            if (!viewArea || !messageContent) return;
            
            // Toggle display
            if (viewArea.style.display === 'none' || viewArea.style.display === '') {
                // Get all messages from this user and show the most recent one
                const userMessages = list.filter(msg => msg.userId === userId);
                if (userMessages.length > 0) {
                    // Show the most recent message (last one in array)
                    const mostRecent = userMessages[userMessages.length - 1];
                    messageContent.innerHTML = `<div style="margin-bottom: 15px; padding: 10px; background: #fff5f5; border-radius: 8px; border-left: 4px solid #b71c1c;"><p style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${(mostRecent.text || 'No text').replace(/\n/g, '<br>')}</p></div>`;
                    viewArea.style.display = 'block';
                } else {
                    messageContent.textContent = 'No message found.';
                    viewArea.style.display = 'block';
                }
            } else {
                // Hide message
                viewArea.style.display = 'none';
            }
        }


        function handleChristmasSClick() {
            // Enable sending message again
            enableSendingMessageAgain();
        }
        
        function enableSendingMessageAgain() {
            // Reset submission flag to allow sending another message
            localStorage.removeItem(CHRISTMAS_SUBMITTED_KEY);
            
            // Re-enable textarea and submit button
            const textarea = document.getElementById('christmasMessageInput');
            const submitBtn = document.querySelector('.christmas-submit-btn');
            const errorMsg = document.getElementById('christmasErrorMsg');
            const viewBtn = document.getElementById('christmasViewBtn');
            const viewArea = document.getElementById('christmasViewArea');
            
            if (textarea) {
                textarea.disabled = false;
                // keep whatever was typed; do not clear the form
            }
            if (submitBtn) {
                submitBtn.disabled = false;
                submitBtn.style.pointerEvents = 'auto';
                submitBtn.style.opacity = '1';
                submitBtn.style.cursor = 'pointer';
            }
            if (errorMsg) {
                errorMsg.style.display = 'none';
            }
            
            // Reset counter
            const counterEl = document.getElementById('christmasWordCounter');
            if (counterEl) {
                const currentLength = textarea ? textarea.value.length : 0;
                counterEl.textContent = currentLength + ' / 1000';
            }
            
        }


        function toggleChristmasWarning(event) {
            event.stopPropagation();
            
            // Check if popup already exists
            let popup = document.getElementById('christmasWarningPopup');
            
            if (popup) {
                // If exists, remove it
                popup.remove();
            } else {
                // Create and show popup
                popup = document.createElement('div');
                popup.id = 'christmasWarningPopup';
                popup.className = 'christmas-warning-popup';
                popup.innerHTML = `
                    <p>YOU CAN ONLY SEE YOUR OWN MESSAGE</p>
                    <p style="margin-top: 10px; font-size: 14px;">YOU CAN SEE YOUR MESSAGE AGAIN NEXT YEAR</p>
                    <p style="margin-top: 10px; font-size: 14px;">YOU CAN ONLY SEND 1 MESSAGE</p>
                    <button class="close-warning-btn" onclick="closeChristmasWarning()"></button>
                `;
                document.body.appendChild(popup);
                
                // Close on outside click
                setTimeout(() => {
                    document.addEventListener('click', closeWarningOnOutsideClick);
                }, 100);
            }
        }

        function closeChristmasWarning() {
            const popup = document.getElementById('christmasWarningPopup');
            if (popup) {
                popup.remove();
                document.removeEventListener('click', closeWarningOnOutsideClick);
            }
        }

        function closeWarningOnOutsideClick(event) {
            const popup = document.getElementById('christmasWarningPopup');
            if (popup && !popup.contains(event.target) && !event.target.classList.contains('christmas-warning-btn')) {
                closeChristmasWarning();
            }
        }

        // Music Player Functions
        let currentPlayingSong = null;
        let bgMusicAudio = null;
        let bgMusicFading = false;
        let bgMusicShouldPlay = false;
        let isMiniPanelOpen = false;
        let canShowMusicMiniButton = false;
        const songIds = ['sabrina', 'positions', 'goodnightngo', 'ariintro', 'aripastlife', 'ariboyfriend', 'breakfree', 'opalite', 'blankspace', 'slut', 'opheila', 'weeknd', 'cooloff', 'happierthanever', 'wavetolove', 'superfar', 'backburner', 'aboutyou', 'charli360', 'oras', 'nailang', 'multo', 'confident'];
        const songTitles = {
            sabrina: 'SABRINA CARPENTER - WHEN DID YOU GET HOT',
            positions: 'ARIANA GRANDE - POSITIONS',
            goodnightngo: 'ARIANA GRANDE - GOODNIGHT N GO',
            ariintro: 'ARIANA GRANDE - INTRO ( EXTENDED )',
            aripastlife: 'ARIANA GRANDE - PAST LIFE',
            ariboyfriend: 'ARIANA GRANDE & SOCIAL HOUSE - BOYFRIEND',
            breakfree: 'ARIANA GRANDE - BREAK FREE',
            opalite: 'TAYLOR SWIFT - OPALITE',
            blankspace: 'TAYLOR SWIFT - BLANK SPACE',
            slut: 'TAYLOR SWIFT - SLUT!',
            opheila: 'TAYLOR SWIFT - THE FATE OF OPHELIA',
            weeknd: 'THE WEEKND - SAVE YOUR TEARS',
            cooloff: 'NIALL HORAN - TOO MUCH TO ASK',
            happierthanever: 'BILLIE EILISH - HAPPIER THAN EVER',
            wavetolove: 'LAUV - I LIKE ME BETTER',
            superfar: 'LANY - SUPER FAR',
            backburner: 'NIKI - BACKBURNER',
            aboutyou: 'THE 1975 - ABOUT YOU',
            charli360: 'CHARLI XCX - 360',
            oras: 'CALEIN - ORAS',
            nailang: 'LE JOHN - NAIILANG',
            multo: 'CUP OF JOE - MULTO',
            confident: 'JUSTIN BIEBER - CONFIDENT'
        };

        function getNextSongId(currentId) {
            const idx = songIds.indexOf(currentId);
            if (idx >= 0 && idx < songIds.length - 1) {
                return songIds[idx + 1];
            }
            return null;
        }

        function getPreviousSongId(currentId) {
            const idx = songIds.indexOf(currentId);
            if (idx > 0) {
                return songIds[idx - 1];
            }
            return null;
        }

        function enableMusicMiniButton() {
            canShowMusicMiniButton = true;
            updateMiniMusicUI();
        }

        function updatePanelToggleButton() {
            const icon = document.getElementById('musicMiniPanelToggleIcon');
            if (!icon) return;
            // Simple, reliable rule: if we *want* background music playing, show pause;
            // otherwise show play. This avoids timing issues with audio state.
            if (bgMusicShouldPlay) {
                icon.textContent = '';
            } else {
                icon.textContent = '';
            }
        }

        function setupBgMusic() {
            // Background Christmas playlist has been disabled.
            // Keep this function as a no-op so other code can safely call it.
            return;
        }

        function isBgMusicPlaying() {
            return bgMusicAudio && !bgMusicAudio.paused && bgMusicAudio.currentTime > 0;
        }

        function fadeAudio(audio, targetVolume, duration, callback) {
            if (!audio) {
                if (callback) callback();
                return;
            }
            bgMusicFading = true;
            const startVolume = audio.volume;
            const startTime = performance.now();

            function step(now) {
                const elapsed = now - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const newVolume = startVolume + (targetVolume - startVolume) * progress;
                audio.volume = Math.max(0, Math.min(1, newVolume));
                if (progress < 1) {
                    requestAnimationFrame(step);
                } else {
                    bgMusicFading = false;
                    if (callback) callback();
                }
            }

            requestAnimationFrame(step);
        }

        function startBgMusic() {
            setupBgMusic();
            if (!bgMusicAudio) return;
            bgMusicShouldPlay = true;
            
            // Function to attempt playing
            function attemptPlay() {
                if (!bgMusicAudio || !bgMusicShouldPlay) return;
                
                if (bgMusicAudio.paused) {
                    const playPromise = bgMusicAudio.play();
                    if (playPromise && playPromise.catch) {
                        playPromise.catch((error) => {
                            console.log('Audio play failed:', error);
                            // Try again after a short delay
                            setTimeout(() => {
                                if (bgMusicAudio && bgMusicShouldPlay) {
                                    attemptPlay();
                                }
                            }, 500);
                        });
                    } else {
                        // If play() returns undefined (already playing), fade in
                        fadeAudio(bgMusicAudio, 0.4, 800);
                        updatePanelToggleButton();
                    }
                } else {
                    // Already playing, just fade in
                    fadeAudio(bgMusicAudio, 0.4, 800);
                    updatePanelToggleButton();
                }
            }
            
            // Ensure audio is ready to play
            if (bgMusicAudio.readyState >= 2) {
                // Audio is loaded enough to play
                attemptPlay();
            } else {
                // Wait for audio to load, but also try immediately
                attemptPlay(); // Try immediately
                
                // Also wait for canplaythrough
                const canPlayHandler = function() {
                    if (bgMusicShouldPlay && bgMusicAudio.paused) {
                        attemptPlay();
                    }
                };
                bgMusicAudio.addEventListener('canplaythrough', canPlayHandler, { once: true });
                bgMusicAudio.addEventListener('loadeddata', canPlayHandler, { once: true });
                
                // Also try to load the audio
                bgMusicAudio.load();
            }
        }

        function pauseBgMusic(rememberToResume) {
            if (!bgMusicAudio) return;
            if (rememberToResume) {
                bgMusicShouldPlay = true;
            } else {
                bgMusicShouldPlay = false;
            }
            fadeAudio(bgMusicAudio, 0, 600, () => {
                if (!bgMusicShouldPlay && bgMusicAudio) {
                    bgMusicAudio.pause();
                    // Update button icon when paused
                    updatePanelToggleButton();
                }
            });
        }

        function maybeResumeBgMusic() {
            if (bgMusicShouldPlay) {
                startBgMusic();
            }
        }

        function updateMiniMusicUI() {
            const miniButton = document.getElementById('musicMiniButton');
            const miniTitle = document.getElementById('musicMiniTitle');
            const miniCard = document.getElementById('musicMiniCard');
            const panel = document.getElementById('musicMiniPanel');
            const panelTitle = document.getElementById('musicMiniPanelTitle');
            const panelBox = document.getElementById('musicMiniPanelSong');
            const panelControls = document.getElementById('musicMiniPanelControls');
            const panelTimes = document.getElementById('musicMiniPanelTimes');
            const panelToggleBtn = document.getElementById('musicMiniPanelToggle');
            const inlineControls = document.getElementById('musicMiniInlineControls');
            const inlineToggleBtn = document.getElementById('musicMiniInlineToggle');

            if (!canShowMusicMiniButton) {
                if (miniButton) miniButton.style.display = 'none';
                if (panel) panel.style.display = 'none';
                if (inlineControls) inlineControls.classList.remove('active');
                return;
            }

            // Only show mini panel for background music, not for favorites songs
            // If a favorites song is playing, hide the mini panel
            const favoritesSongPlaying = currentPlayingSong !== null;
            const bgPlaying = bgMusicAudio && !bgMusicAudio.paused && bgMusicAudio.currentTime > 0 && !favoritesSongPlaying;

            // Hide mini panel if favorites song is playing
            if (favoritesSongPlaying) {
                if (miniButton) miniButton.style.display = 'none';
                if (panel) panel.style.display = 'none';
                if (inlineControls) inlineControls.classList.remove('active');
                return;
            }

            // Always show the Music button in the upper-right once it's allowed (only for background music)
            if (miniButton) miniButton.style.display = 'flex';

            if (bgPlaying) {
                if (miniCard) miniCard.classList.add('active');
                if (miniTitle) {
                    miniTitle.textContent = 'CHRISTMAS PLAYLIST';
                    miniTitle.classList.remove('scrolling');
                }
                if (panelControls) panelControls.style.display = 'flex';
                if (panelTimes) panelTimes.style.display = 'flex';
                if (inlineControls) inlineControls.classList.add('active');
                if (panelTitle) {
                    panelTitle.textContent = 'CHRISTMAS PLAYLIST';
                    panelBox.style.display = 'block';
                }
                if (panelToggleBtn) panelToggleBtn.textContent = '';
                if (inlineToggleBtn) inlineToggleBtn.textContent = '';
                // Update times for Christmas music
                if (bgMusicAudio.duration) {
                    updateMiniPanelTimes(formatTime(bgMusicAudio.currentTime), formatTime(bgMusicAudio.duration));
                }
            } else {
                if (miniCard) miniCard.classList.remove('active');
                if (miniTitle) {
                    miniTitle.textContent = 'NO MUSIC IS PLAYING RIGHT NOW.';
                    miniTitle.classList.remove('scrolling');
                }
                if (panelControls) panelControls.style.display = 'flex';
                if (panelTimes) panelTimes.style.display = 'flex';
                if (inlineControls) inlineControls.classList.add('active');
                if (panelTitle) {
                    panelTitle.textContent = 'CHRISTMAS SONGS';
                    panelBox.style.display = 'block';
                }
                if (panelToggleBtn) panelToggleBtn.textContent = '';
                if (inlineToggleBtn) inlineToggleBtn.textContent = '';
                updateMiniPanelTimes('0:00', '0:00');
            }

            if (panel) {
                panel.style.display = isMiniPanelOpen ? 'flex' : 'none';
            }
        }

        function updateMiniPanelTimes(current, total) {
            const curEl = document.getElementById('musicMiniCurrentTime');
            const totalEl = document.getElementById('musicMiniTotalTime');
            if (curEl) curEl.textContent = current || '0:00';
            if (totalEl) totalEl.textContent = total || '0:00';
        }

        function toggleMiniPanel() {
            const panel = document.getElementById('musicMiniPanel');
            if (!panel) return;
            isMiniPanelOpen = !isMiniPanelOpen;
            panel.style.display = isMiniPanelOpen ? 'flex' : 'none';
        }

        function miniSkipForward() {
            if (!currentPlayingSong) return;
            skipMusic(currentPlayingSong, 5);
        }

        function miniSkipBackward() {
            if (!currentPlayingSong) return;
            skipMusic(currentPlayingSong, -5);
        }

        function miniTogglePlay() {
            if (!currentPlayingSong) return;
            toggleMusic(currentPlayingSong);
        }

        function toggleBgMusicFromPanel() {
            setupBgMusic();
            if (!bgMusicAudio) return;

            const wasPlaying = bgMusicShouldPlay && isBgMusicPlaying();

            if (wasPlaying) {
                // Hard pause: stop audio and stop timer
                bgMusicShouldPlay = false;
                bgMusicAudio.pause();
            } else {
                // Play at normal volume
                bgMusicShouldPlay = true;
                bgMusicAudio.volume = 0.4;
                const playPromise = bgMusicAudio.play();
                if (playPromise && playPromise.catch) {
                    playPromise.catch((err) => {
                        console.log('Background music play failed from panel:', err);
                        // If play fails, revert desired state
                        bgMusicShouldPlay = false;
                    });
                }
            }

            // Update icon based on desired state
            updatePanelToggleButton();
        }

        function miniRestart() {
            if (!currentPlayingSong) return;
            restartMusic(currentPlayingSong);
        }

        function miniNextTrack() {
            if (!songIds || songIds.length === 0) return;
            if (!currentPlayingSong) {
                const firstSongId = songIds[0];
                if (firstSongId) {
                    toggleMusic(firstSongId);
                }
                return;
            }
            const nextId = getNextSongId(currentPlayingSong);
            if (nextId) {
                toggleMusic(nextId);
            }
        }

        function miniPrevTrack() {
            if (!currentPlayingSong) return;
            const prevId = getPreviousSongId(currentPlayingSong);
            if (prevId) {
                toggleMusic(prevId);
            }
        }

        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return mins + ':' + (secs < 10 ? '0' : '') + secs;
        }

        // Set up event handlers for all audio players
        window.addEventListener('load', function() {
            songIds.forEach(songId => {
                const audio = document.getElementById('musicPlayer-' + songId);
                if (audio) {
                    audio.addEventListener('loadedmetadata', function() {
                        const totalTimeSpan = document.getElementById('totalTime-' + songId);
                        if (totalTimeSpan) {
                            totalTimeSpan.textContent = formatTime(audio.duration);
                        }
                        if (currentPlayingSong === songId) {
                            updateMiniPanelTimes(formatTime(audio.currentTime), formatTime(audio.duration || 0));
                        }
                    });

                    audio.addEventListener('timeupdate', function() {
                        const progressBar = document.getElementById('musicProgressBar-' + songId);
                        const currentTimeSpan = document.getElementById('currentTime-' + songId);
                        const totalTimeSpan = document.getElementById('totalTime-' + songId);
                        
                        if (audio.duration) {
                            const progress = (audio.currentTime / audio.duration) * 100;
                            if (progressBar) progressBar.style.width = progress + '%';
                            if (currentTimeSpan) currentTimeSpan.textContent = formatTime(audio.currentTime);
                            if (totalTimeSpan && totalTimeSpan.textContent === '0:00') {
                                totalTimeSpan.textContent = formatTime(audio.duration);
                            }
                            if (currentPlayingSong === songId) {
                                updateMiniPanelTimes(formatTime(audio.currentTime), formatTime(audio.duration || 0));
                            }
                        }
                    });

                    audio.addEventListener('ended', function() {
                        const playButton = document.querySelector(`button[data-song="${songId}"]`);
                        const songItem = playButton ? playButton.closest('.song-item') : null;
                        if (playButton) {
                            playButton.textContent = '';
                            playButton.classList.remove('paused', 'playing');
                        }
                        if (songItem) songItem.classList.remove('song-playing');
                        const progressContainer = document.getElementById('musicProgressContainer-' + songId);
                        if (progressContainer) progressContainer.classList.remove('active');
                        if (currentPlayingSong === songId) {
                            currentPlayingSong = null;
                            updateMiniMusicUI();
                        }
                    });

                    audio.addEventListener('error', function(e) {
                        console.error('Error loading audio for', songId, ':', e);
                        const playButton = document.querySelector(`button[data-song="${songId}"]`);
                        if (playButton) {
                            playButton.disabled = true;
                            playButton.textContent = '';
                            playButton.title = 'Audio file not found or cannot be loaded';
                        }
                    });

                    audio.addEventListener('canplaythrough', function() {
                        // Audio is ready to play
                        console.log('Audio ready for', songId);
                    });
                }
            });
            
            // Setup progress bar seeking after all audio elements are initialized
            setupProgressBarSeeking();
        });

        function toggleMusic(songId) {
            const audio = document.getElementById('musicPlayer-' + songId);
            const playButton = document.querySelector(`button[data-song="${songId}"]`);
            const progressContainer = document.getElementById('musicProgressContainer-' + songId);
            const songItem = playButton ? playButton.closest('.song-item') : null;

            if (!audio || !playButton) return;

            // If any background music is playing, pause it gently while a song is playing
            if (bgMusicAudio && !bgMusicAudio.paused && audio.paused) {
                pauseBgMusic(true);
            }

            // If a different song is playing, pause it
            if (currentPlayingSong && currentPlayingSong !== songId) {
                const prevAudio = document.getElementById('musicPlayer-' + currentPlayingSong);
                const prevButton = document.querySelector(`button[data-song="${currentPlayingSong}"]`);
                const prevProgress = document.getElementById('musicProgressContainer-' + currentPlayingSong);
                const prevSongItem = prevButton ? prevButton.closest('.song-item') : null;
                
                if (prevAudio) {
                    prevAudio.pause();
                    prevAudio.currentTime = 0;
                }
                if (prevButton) {
                    prevButton.textContent = '';
                    prevButton.classList.remove('paused', 'playing');
                }
                if (prevSongItem) {
                    prevSongItem.classList.remove('song-playing');
                }
                if (prevProgress) prevProgress.classList.remove('active');
            }

            if (audio.paused) {
                // Stop background music when favorites song starts playing
                if (bgMusicAudio && !bgMusicAudio.paused) {
                    pauseBgMusic(true); // Remember to resume later
                }
                
                const playPromise = audio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        // Audio started playing successfully
                        playButton.textContent = '';
                        playButton.classList.remove('playing');
                        playButton.classList.add('paused');
                        if (songItem) songItem.classList.add('song-playing');
                        if (progressContainer) progressContainer.classList.add('active');
                        currentPlayingSong = songId;
                        // Don't show mini panel for favorites songs
                        updateMiniMusicUI();
                    }).catch(error => {
                        // Auto-play was prevented or failed
                        console.error('Error playing audio:', error);
                        alert('Unable to play audio. Please click the play button again or check if the file exists.');
                        playButton.textContent = '';
                        playButton.classList.remove('paused', 'playing');
                        if (songItem) songItem.classList.remove('song-playing');
                    });
                } else {
                    // Fallback for older browsers
                    // Stop background music when favorites song starts playing
                    if (bgMusicAudio && !bgMusicAudio.paused) {
                        pauseBgMusic(true); // Remember to resume later
                    }
                    playButton.textContent = '';
                    playButton.classList.remove('playing');
                    playButton.classList.add('paused');
                    if (songItem) songItem.classList.add('song-playing');
                    if (progressContainer) progressContainer.classList.add('active');
                    currentPlayingSong = songId;
                    // Don't show mini panel for favorites songs
                    updateMiniMusicUI();
                }
            } else {
                audio.pause();
                audio.currentTime = 0;
                playButton.textContent = '';
                playButton.classList.remove('paused', 'playing');
                if (songItem) songItem.classList.remove('song-playing');
                if (progressContainer) progressContainer.classList.remove('active');
                currentPlayingSong = null;
                updateMiniMusicUI();
                // If no song from favorites is playing anymore, resume background music if it should play
                maybeResumeBgMusic();
            }
        }

        function skipMusic(songId, seconds) {
            const audio = document.getElementById('musicPlayer-' + songId);
            if (audio && audio.duration) {
                const newTime = Math.max(0, Math.min(audio.currentTime + seconds, audio.duration));
                audio.currentTime = newTime;
            }
        }

        function restartMusic(songId) {
            const audio = document.getElementById('musicPlayer-' + songId);
            if (audio) {
                audio.currentTime = 0;
                if (!audio.paused) {
                    audio.play();
                }
            }
        }

        // Make progress bars clickable and draggable
        function setupProgressBarSeeking() {
            songIds.forEach(songId => {
                const progressWrapper = document.getElementById('musicProgressContainer-' + songId);
                if (!progressWrapper) return;
                
                const progressBarWrapper = progressWrapper.querySelector('.music-progress-bar-wrapper');
                const progressBar = document.getElementById('musicProgressBar-' + songId);
                const audio = document.getElementById('musicPlayer-' + songId);
                
                if (!progressBarWrapper || !progressBar || !audio) return;
                
                let isDragging = false;
                
                function seekToPosition(event) {
                    if (!audio.duration) return;
                    
                    const rect = progressBarWrapper.getBoundingClientRect();
                    const clickX = event.clientX - rect.left;
                    const percentage = Math.max(0, Math.min(100, (clickX / rect.width) * 100));
                    const newTime = (percentage / 100) * audio.duration;
                    
                    audio.currentTime = newTime;
                    progressBar.style.width = percentage + '%';
                    
                    const currentTimeSpan = document.getElementById('currentTime-' + songId);
                    if (currentTimeSpan) {
                        currentTimeSpan.textContent = formatTime(newTime);
                    }
                }
                
                progressBarWrapper.addEventListener('mousedown', function(e) {
                    isDragging = true;
                    progressBarWrapper.classList.add('dragging');
                    seekToPosition(e);
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (isDragging) {
                        seekToPosition(e);
                    }
                });
                
                document.addEventListener('mouseup', function() {
                    if (isDragging) {
                        isDragging = false;
                        progressBarWrapper.classList.remove('dragging');
                    }
                });
                
                // Also handle touch events for mobile
                progressBarWrapper.addEventListener('touchstart', function(e) {
                    isDragging = true;
                    progressBarWrapper.classList.add('dragging');
                    const touch = e.touches[0];
                    const fakeEvent = {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    };
                    seekToPosition(fakeEvent);
                    e.preventDefault();
                });
                
                document.addEventListener('touchmove', function(e) {
                    if (isDragging) {
                        const touch = e.touches[0];
                        const fakeEvent = {
                            clientX: touch.clientX,
                            clientY: touch.clientY
                        };
                        seekToPosition(fakeEvent);
                        e.preventDefault();
                    }
                });
                
                document.addEventListener('touchend', function() {
                    if (isDragging) {
                        isDragging = false;
                        progressBarWrapper.classList.remove('dragging');
                    }
                });
            });
        }

        function toggleDisclaimer() {
            const disclaimer = document.getElementById('musicDisclaimer');
            const infoButton = document.querySelector('.music-info-button');
            if (disclaimer) {
                const isShowing = disclaimer.classList.toggle('show');
                if (infoButton) {
                    if (isShowing) {
                        infoButton.classList.add('active');
                    } else {
                        infoButton.classList.remove('active');
                    }
                }
            }
        }

        function togglePersonalInfo() {
            const personalInfoBox = document.getElementById('personalInfoBox');
            const toggleButton = document.querySelector('.name-with-button .info-toggle-button');
            if (personalInfoBox) {
                personalInfoBox.classList.toggle('show');
                if (toggleButton) {
                    toggleButton.classList.toggle('rotated');
                }
            }
        }

        function toggleHobbies() {
            const hobbiesBox = document.getElementById('hobbiesBox');
            const toggleButton = document.querySelector('.hobbies-with-button .info-toggle-button');
            if (hobbiesBox) {
                hobbiesBox.classList.toggle('show');
                if (toggleButton) {
                    toggleButton.classList.toggle('rotated');
                }
            }
        }

        function toggleDescription(element) {
            const descriptionContainer = element.parentElement;
            const shortDesc = descriptionContainer.querySelector('.description-short');
            const fullDesc = descriptionContainer.querySelector('.description-full');
            const seeMoreLink = element;

            if (!shortDesc || !fullDesc) return;

            // Check if currently expanded by checking if fullDesc is visible
            const isExpanded = fullDesc.classList.contains('expanded');

            if (isExpanded) {
                // Collapse - show short, hide full
                shortDesc.classList.remove('expanded');
                fullDesc.classList.remove('expanded');
                seeMoreLink.textContent = 'see more...';
            } else {
                // Expand - hide short, show full
                shortDesc.classList.add('expanded');
                fullDesc.classList.add('expanded');
                seeMoreLink.textContent = 'see less...';
            }
        }

        // Initialize descriptions to show only first 5 words
        function initializeDescriptions() {
            const descriptions = document.querySelectorAll('.description-short');
            descriptions.forEach(desc => {
                // Get the original full text from data attribute or from description-full
                const descriptionContainer = desc.parentElement;
                const fullDesc = descriptionContainer.querySelector('.description-full');
                if (fullDesc) {
                    const fullText = fullDesc.textContent.trim();
                    const words = fullText.split(' ');
                    if (words.length > 5) {
                        const firstFiveWords = words.slice(0, 5).join(' ');
                        desc.textContent = firstFiveWords;
                        // Store full text in data attribute
                        desc.setAttribute('data-full-text', fullText);
                    } else {
                        // If 5 words or less, hide the see more link
                        const seeMoreLink = descriptionContainer.querySelector('.see-more-link');
                        if (seeMoreLink) {
                            seeMoreLink.style.display = 'none';
                        }
                    }
                }
            });
        }


        // Also initialize when favorites box is shown
        function toggleAboutFavorites() {
            const aboutFavoritesBox = document.getElementById('aboutFavoritesBox');
            const toggleButton = document.querySelector('.favorites-with-button .info-toggle-button');
            if (aboutFavoritesBox) {
                aboutFavoritesBox.classList.toggle('show');
                if (toggleButton) {
                    toggleButton.classList.toggle('rotated');
                }
                // Initialize descriptions when box is shown
                if (aboutFavoritesBox.classList.contains('show')) {
                    setTimeout(initializeDescriptions, 100);
                }
            }
        }

        // Initialize music player when modal opens
        const musicModal = document.getElementById('musicModal');
        if (musicModal) {
            musicModal.addEventListener('click', function(e) {
                if (e.target === musicModal) {
                    if (currentPlayingSong) {
                        const audio = document.getElementById('musicPlayer-' + currentPlayingSong);
                        const playButton = document.querySelector(`button[data-song="${currentPlayingSong}"]`);
                        if (audio && !audio.paused) {
                            audio.pause();
                            const songItem = playButton ? playButton.closest('.song-item') : null;
                            if (playButton) {
                                playButton.textContent = '';
                                playButton.classList.remove('paused', 'playing');
                            }
                            if (songItem) songItem.classList.remove('song-playing');
                        }
                    }
                }
            });
        }

        // Personal details OTP gate
        (function setupOtpGate() {
            const showLink = document.getElementById('showOtpLink');
            const otpContainer = document.getElementById('otpContainer');
            const otpInput = document.getElementById('otpInput');
            const otpSubmit = document.getElementById('otpSubmit');
            const otpFeedback = document.getElementById('otpFeedback');
            const personalBox = document.getElementById('personalInfoBox');
            const accessGate = document.getElementById('personalAccessGate');
            const personalToggleBtn = document.getElementById('personalToggleBtn');

            if (!showLink || !otpContainer || !otpInput || !otpSubmit || !otpFeedback) return;

            const validCodes = ['1298', '0912', '4643', '6464', '5382', '4638', '0047']; // 0047 is unlimited

            function getUsedCodes() {
                try {
                    const raw = localStorage.getItem('usedOtpCodes');
                    return raw ? JSON.parse(raw) : [];
                } catch {
                    return [];
                }
            }

            function setUsedCodes(list) {
                try {
                    localStorage.setItem('usedOtpCodes', JSON.stringify(list));
                } catch {}
            }

            function markCodeUsed(code) {
                const used = getUsedCodes();
                if (!used.includes(code)) {
                    used.push(code);
                    setUsedCodes(used);
                }
            }

            function isCodeUsed(code) {
                return getUsedCodes().includes(code);
            }

            // Reveal OTP input
            showLink.addEventListener('click', function() {
                otpContainer.style.display = 'block';
                otpInput.focus();
            });

            // Clicking the Personal Details button only reveals the access gate (no direct access)
            if (personalToggleBtn) {
                personalToggleBtn.addEventListener('click', function() {
                    if (!accessGate) return;
                    const isHidden = accessGate.style.display === 'none' || accessGate.style.display === '';
                    accessGate.style.display = isHidden ? 'block' : 'none';
                    // Reset fields every toggle open
                    if (isHidden) {
                        otpContainer.style.display = 'none';
                        otpInput.value = '';
                        otpFeedback.textContent = '';
                        // rotate to indicate open
                        personalToggleBtn.classList.add('rotated');
                    } else {
                        // rotate back to indicate closed
                        personalToggleBtn.classList.remove('rotated');
                    }
                    // Do not auto-show personal details here
                    if (personalBox) personalBox.classList.remove('show');
                    // Hide message for me box
                    const messageForMeBox = document.getElementById('messageForMeBox');
                    if (messageForMeBox) messageForMeBox.classList.remove('show');
                });
            }

            // Allow only numbers
            otpInput.addEventListener('keydown', function(e) {
                const allowedKeys = ['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab', 'Home', 'End', 'Enter'];
                if (allowedKeys.includes(e.key)) return;
                if (!/^[0-9]$/.test(e.key)) {
                    e.preventDefault();
                }
            });

            // Also sanitize on input paste
            otpInput.addEventListener('input', function() {
                otpInput.value = otpInput.value.replace(/[^0-9]/g, '').slice(0, 4);
            });

            function unlockPersonalDetails() {
                // Hide gate, show details
                if (accessGate) accessGate.style.display = 'none';
                if (personalBox) personalBox.classList.add('show');
                // Show message for me box
                const messageForMeBox = document.getElementById('messageForMeBox');
                if (messageForMeBox) messageForMeBox.classList.add('show');
                // Show welcome toast for 4 seconds
                showWelcomeToast();
                if (personalToggleBtn) personalToggleBtn.classList.remove('rotated');
            }

            function submitCode() {
                const code = (otpInput.value || '').trim();
                otpFeedback.style.color = '#cc0000';

                if (!/^[0-9]{4}$/.test(code)) {
                    otpFeedback.textContent = 'WRONG CODE';
                    setTimeout(() => { otpFeedback.textContent = ''; }, 3000);
                    return;
                }

                if (!validCodes.includes(code)) {
                    otpFeedback.textContent = 'WRONG CODE';
                    setTimeout(() => { otpFeedback.textContent = ''; }, 3000);
                    return;
                }

                // 0047 is unlimited and never marked as used
                if (code !== '0047') {
                    if (isCodeUsed(code)) {
                        otpFeedback.textContent = 'ALREADY BEEN USED';
                        setTimeout(() => { otpFeedback.textContent = ''; }, 3000);
                        return;
                    }
                    markCodeUsed(code);
                }

                // Success
                unlockPersonalDetails();
            }

            otpSubmit.addEventListener('click', submitCode);
            otpInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    submitCode();
                }
            });

            // Welcome toast helper
            function showWelcomeToast() {
                let toast = document.getElementById('welcomeToast');
                if (!toast) {
                    toast = document.createElement('div');
                    toast.id = 'welcomeToast';
                    toast.className = 'welcome-toast';
                    toast.textContent = 'WELCOME';
                    document.body.appendChild(toast);
                }
                toast.style.display = 'block';
                setTimeout(() => {
                    toast.style.display = 'none';
                }, 4000);
            }
        })();

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                // Check if unavailable message is open
                const unavailableMessage = document.getElementById('unavailableMessage');
                if (unavailableMessage && unavailableMessage.classList.contains('show')) {
                    closeUnavailable();
                    return;
                }
                
                const activeModals = document.querySelectorAll('.modal-overlay.active');
                activeModals.forEach(modal => {
                    if (modal.id === 'aboutModal') {
                        closeModal('about');
                    } else if (modal.id === 'favoritesModal') {
                        closeModal('favorites');
                    } else if (modal.id === 'gamingModal') {
                        closeModal('gaming');
                    } else if (modal.id === 'musicModal') {
                        if (currentPlayingSong) {
                            const audio = document.getElementById('musicPlayer-' + currentPlayingSong);
                            const playButton = document.querySelector(`button[data-song="${currentPlayingSong}"]`);
                            if (audio && !audio.paused) {
                                audio.pause();
                                const songItem = playButton ? playButton.closest('.song-item') : null;
                                if (playButton) {
                                    playButton.textContent = '';
                                    playButton.classList.remove('paused', 'playing');
                                }
                                if (songItem) songItem.classList.remove('song-playing');
                            }
                        }
                        closeModal('music');
                    } else if (modal.id === 'singerModal') {
                        closeModal('singer');
                    } else if (modal.id === 'updatesModal') {
                        closeModal('updates');
                    } else if (modal.id === 'myAppsModal') {
                        closeModal('myApps');
                    } else if (modal.id === 'calculatorModal') {
                        closeModal('calculator');
                    }
                });
            }
        });
    </script>
</body>
</html>